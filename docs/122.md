# ä»‹ç»

> åŸæ–‡ï¼š<https://github.com/figment-networks/learn-tutorials/blob/master/polygon/NFT-Tutorial-Using-hardhat.md>

åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨ HardHatï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨äºæ™ºèƒ½åˆçº¦å¼€å‘çš„æµè¡Œæ¡†æ¶ã€‚å®ƒæ˜¯ä¸€ä¸ªç±»ä¼¼ Truffle çš„åŸºäº JavaScript çš„æ¡†æ¶ï¼Œä½†æ˜¯æ¯” Truffle æœ‰ä¸€äº›ä¼˜åŠ¿ï¼Œæˆ‘ä»¬å°†åœ¨æ•™ç¨‹ä¸­ä»‹ç»ã€‚æœ¬æ•™ç¨‹çš„ç›®æ ‡æ˜¯å»ºç«‹ä¸€ä¸ªäº†ä¸èµ·çš„ NFT é¡¹ç›®ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä»»ä½•ä¸œè¥¿è½¬æ¢æˆ NFTã€‚æˆ‘ä»¬è¿˜å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨ Hardhat æ¡†æ¶ç¼–å†™ã€æµ‹è¯•å’Œéƒ¨ç½²æ™ºèƒ½åˆçº¦ã€‚

# å…ˆå†³æ¡ä»¶

æœ¬æ•™ç¨‹å‡è®¾æ‚¨å¯¹ä»€ä¹ˆæ˜¯æ™ºèƒ½åˆçº¦ä»¥åŠå¦‚ä½•ä½¿ç”¨å®ƒä»¬æ„å»º dApp é¡¹ç›®æœ‰ä¸€ä¸ªåŸºæœ¬çš„äº†è§£ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œæ‚¨è¿˜çŸ¥é“å¹¶ä½¿ç”¨è¿‡å…ƒæ©ç ï¼Œå¹¶ä¸”ç†Ÿæ‚‰å…¬é’¥å’Œç§é’¥çš„æ¦‚å¿µã€‚ç†Ÿæ‚‰ Solidity å’Œ Javascript ä»¥åŠ Node.js ä¹Ÿä¼šå¾ˆæœ‰å¸®åŠ©ã€‚

# è¦æ±‚

è¯·ç¡®ä¿æ‚¨å®‰è£…äº†ä»¥ä¸‹è½¯ä»¶:

*   [Node.js](https://nodejs.org/en/) v14.17.6 LTS æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œç”¨äºå®‰è£… HardHat ç­‰èŠ‚ç‚¹åŒ…ã€‚
*   [å…ƒæ©ç ](https://metamask.io/)ç”¨äºä¸åŒºå—é“¾äº¤äº’ã€‚
    *   ä¸€æ—¦å®‰è£…äº† MetaMaskï¼Œæ·»åŠ ä¸€ä¸ªä¸ [Polygon Mumbai testnet](https://docs.matic.network/docs/develop/metamask/config-polygon-on-metamask) çš„è¿æ¥ã€‚
*   è®°å¾—ä½¿ç”¨[å¤šè¾¹å½¢é¾™å¤´](https://faucet.polygon.technology/)å‘æ‚¨çš„è´¦æˆ·æ³¨å…¥ testnet MATIC ä»£å¸ã€‚

# åˆ›å»ºå¤šè¾¹å½¢æ‰«æ API é”®

å½“æˆ‘ä»¬å°†æˆ‘ä»¬çš„å¥‘çº¦éƒ¨ç½²åˆ°åŒºå—é“¾(mainnet æˆ– testnet)æ—¶ï¼Œåœ¨éƒ¨ç½²ä¹‹åéªŒè¯æˆ‘ä»¬çš„æ™ºèƒ½å¥‘çº¦çš„ä»£ç æ˜¯ä¸€ä¸ªå¥½çš„å®è·µã€‚å¦‚æœæˆ‘ä»¬çš„æ™ºèƒ½åˆåŒé€šè¿‡äº†**éªŒè¯**ï¼Œé‚£ä¹ˆæ™ºèƒ½åˆåŒä»£ç å°†åœ¨å—æµè§ˆå™¨ä¸Šå¯è§ï¼Œç”¨æˆ·å°†èƒ½å¤Ÿç›´æ¥ä»å—æµè§ˆå™¨(å¦‚ Polygonscan)ä¸æ™ºèƒ½åˆåŒè¿›è¡Œäº¤äº’ã€‚éå¸¸é¼“åŠ±éªŒè¯æºä»£ç ï¼Œå› ä¸ºå®ƒä½¿æˆ‘ä»¬çš„é¡¹ç›®æ›´åŠ é€æ˜ï¼Œç”¨æˆ·ä¹Ÿæ›´æœ‰å¯èƒ½ä¸ä¹‹äº’åŠ¨ã€‚

ä½¿ç”¨ HardHat æ’ä»¶ï¼Œæ™ºèƒ½åˆåŒå¯ä»¥åœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­è‡ªåŠ¨éªŒè¯ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ª Polygonscan API å¯†é’¥ã€‚æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è·å–æ‚¨è‡ªå·±çš„ API å¯†é’¥:

1.  æ‰“å¼€[å¤šè¾¹å½¢æ‰«æ](https://polygonscan.com/)ã€‚
2.  ç‚¹å‡»é¡µé¢å³ä¸Šè§’çš„**ç™»å½•**ã€‚
3.  å¦‚æœæ‚¨å·²ç»æœ‰ä¸€ä¸ªå¸æˆ·ï¼Œè¯·è¾“å…¥æ‚¨çš„ç”¨æˆ·åå’Œå¯†ç ç™»å½•ï¼Œæˆ–è€…é€šè¿‡è®¿é—®[https://polygonscan.com/register](https://polygonscan.com/register)åˆ›å»ºæ‚¨çš„æ–°å¸æˆ·ã€‚
4.  ç™»å½•åï¼Œè½¬åˆ°å·¦ä¾§è¾¹æ çš„ API-KEYs éƒ¨åˆ†ã€‚
5.  ç‚¹å‡»â€œæ·»åŠ â€æŒ‰é’®ï¼Œç»™å®ƒä¸€ä¸ªåå­—ï¼Œç„¶åç‚¹å‡»ç»§ç»­ã€‚

ä½ ç°åœ¨æœ‰ä¸€ä¸ª API å¯†åŒ™ï¼Œå®ƒå°†å…è®¸ä½ è®¿é—® Polygonscan API ç‰¹æ€§ï¼Œæ¯”å¦‚åˆåŒéªŒè¯ã€‚è¿™ä¸ªå¯†é’¥å¯¹äº mainnet å’Œ testnet éƒ½æ˜¯ç›¸åŒçš„ã€‚

# åˆ›å»ºå®‰å…¨å¸½é¡¹ç›®

è¦å®‰è£… HardHatï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤:

```js
npm install -g hardhat
```

è¿™å°†åœ¨å…¨å±€èŒƒå›´å†…å®‰è£… HardHatï¼Œä»¥ä¾¿ä»¥åæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`npx`å‘½ä»¤æ¥åˆ›å»º HardHat é¡¹ç›®ã€‚

ç°åœ¨ï¼Œä¸ºäº†åˆ›å»ºæˆ‘ä»¬çš„é¡¹ç›®ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä»¥ä¸‹ä»£ç 

```js
mkdir art_gallery # I am naming my project folder as art_gallery but any other name works
cd art_gallery    # move into the directory
npx hardhat
```

åœ¨é”®å…¥æœ€åä¸€ä¸ªå‘½ä»¤æ—¶ï¼Œå±å¹•ä¸Šä¼šå‡ºç°ç±»ä¼¼ä¸‹é¢çš„å†…å®¹:

[![Hardhat Initializing](img/ff4ea8209792d63dc6f5fd98b4ff6489.png)](https://github.com/figment-networks/learn-tutorials/raw/master/assets/HardHatInitializing.png)

æˆ‘ä»¬å¯ä»¥ä»ä¸€ä¸ªåŸºæœ¬çš„ç¤ºä¾‹é¡¹ç›®å¼€å§‹ï¼Œè¿™æ ·æ›´å®¹æ˜“ç†è§£é¡¹ç›®å¸ƒå±€ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€æŒ‰ Enter é”®ã€‚åœ¨è¿™ä¹‹åï¼Œæˆ‘ä»¬å°†è¢«è¦æ±‚è®¾ç½®æˆ‘ä»¬çš„é¡¹ç›®æ ¹â€”â€”æŒ‰å›è½¦é”®ä¿æŒé»˜è®¤å€¼ã€‚æ¥ä¸‹æ¥å®ƒä¼šé—®æˆ‘ä»¬æ˜¯å¦éœ€è¦ä¸€ä¸ª. gitignore æ–‡ä»¶ã€‚å†æ¬¡æŒ‰ Enter é”®ä¿ç•™é»˜è®¤å€¼â€œyesâ€æˆ–é”®å…¥ n è¡¨ç¤ºâ€œnoâ€ã€‚ç„¶åå®ƒä¼šè¯¢é—®æˆ‘ä»¬æ˜¯å¦æƒ³è¦ä¸ºæˆ‘ä»¬çš„ç¤ºä¾‹é¡¹ç›®å®‰è£…ä¾èµ–é¡¹ã€‚æŒ‰ Enter é”®æ¥å—é»˜è®¤å€¼ yesã€‚ç°åœ¨ï¼ŒHardHat å°†ä¸ºæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç¤ºä¾‹é¡¹ç›®å¹¶å®‰è£…ä¾èµ–é¡¹ã€‚ä¸€æ—¦å®Œæˆï¼Œå®ƒå°†çœ‹èµ·æ¥åƒè¿™æ ·:

[![Hardhat Initialized](img/7dcce3aeb74ba00895b2b4bebd4caa26.png)](https://github.com/figment-networks/learn-tutorials/raw/master/assets/HardhatInstalled.png)

**æ­å–œ** <g-emoji class="g-emoji" alias="confetti_ball" fallback-src="https://github.githubassets.cimg/icons/emoji/unicode/1f38a.png">ğŸŠ</g-emoji> <g-emoji class="g-emoji" alias="confetti_ball" fallback-src="https://github.githubassets.cimg/icons/emoji/unicode/1f38a.png">ğŸŠ</g-emoji> <g-emoji class="g-emoji" alias="confetti_ball" fallback-src="https://github.githubassets.cimg/icons/emoji/unicode/1f38a.png">ğŸŠä½ å·²ç»åˆ›å»ºäº†ä½ çš„ç¬¬ä¸€ä¸ªå®‰å…¨å¸½é¡¹ç›®ï¼</g-emoji>

# ç†è§£ä»£ç 

ç°åœ¨è®©æˆ‘ä»¬æ‰“å¼€æˆ‘ä»¬çš„é¡¹ç›®ï¼Œçœ‹çœ‹å®ƒåŒ…å«äº†ä»€ä¹ˆã€‚æˆ‘å°†ä½¿ç”¨ VSCode ä½œä¸ºæˆ‘çš„ç¼–è¾‘å™¨é€‰æ‹©ï¼Œä½†ä¹Ÿå¯ä»¥éšæ„ä½¿ç”¨æ‚¨è§‰å¾—èˆ’æœçš„ä»»ä½•å…¶ä»–ä»£ç ç¼–è¾‘å™¨ã€‚

[![Initial File Structure](img/66bdafd0bc784324cd536f20ce545be1.png)](https://github.com/figment-networks/learn-tutorials/raw/master/assets/InitialFileStructure.png)

æˆ‘ä»¬å¾—åˆ°çš„æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„é¡¹ç›®è„šæ‰‹æ¶ã€‚ç›®å½•åæ˜¯ä¸è¨€è‡ªæ˜çš„ã€‚æˆ‘ä»¬æ‰€æœ‰çš„æ™ºèƒ½åˆåŒã€è„šæœ¬æ–‡ä»¶å’Œæµ‹è¯•è„šæœ¬éƒ½å°†ä¿å­˜åœ¨å„è‡ªçš„ç›®å½•(æ–‡ä»¶å¤¹)ä¸­ã€‚

`hardhat.config.js`æ˜¯åŒ…å«æ‰€æœ‰ç‰¹å®šäº HardHat çš„é…ç½®ç»†èŠ‚çš„æ–‡ä»¶ã€‚

åœ¨æˆ‘ä»¬å¼€å§‹ç¼–å†™æˆ‘ä»¬çš„æ™ºèƒ½åˆåŒä¹‹å‰ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ä½œä¸ºæˆ‘ä»¬çš„ HardHat é¡¹ç›®æ ¸å¿ƒçš„`hardhat.config.js`æ–‡ä»¶ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥æ–‡ä»¶çš„å†…å®¹æ˜¯:

```js
require("@nomiclabs/hardhat-waffle");

// This is a sample Hardhat task. To learn how to create your own go to
// https://hardhat.org/guides/create-task.html
task("accounts", "Prints the list of accounts", async (taskArgs, hre) => {
  const accounts = await hre.ethers.getSigners();

  for (const account of accounts) {
    console.log(account.address);
  }
});

// You need to export an object to set up your config
// Go to https://hardhat.org/config/ to learn more

/**
 * @type import('hardhat/config').HardhatUserConfig
 */
module.exports = {
  solidity: "0.8.4",
};
```

æˆ‘ä»¬ä»å¯¼å…¥`@nomiclabs/hardhat-waffle`åŒ…å¼€å§‹ï¼Œè¿™å°†ä½¿æˆ‘ä»¬èƒ½å¤Ÿè®¿é—®`hre`ç±»ã€‚HRE æ˜¯ Hardhat è¿è¡Œæ—¶ç¯å¢ƒçš„ç¼©å†™ï¼Œå®ƒæ˜¯ä¸€ä¸ªåŒ…å« HardHat å…¬å¼€çš„æ‰€æœ‰åŠŸèƒ½çš„å¯¹è±¡ã€‚ä½ å¯ä»¥æŠŠå®ƒæƒ³æˆâ€œå®‰å…¨å¸½*æ˜¯* hreâ€ã€‚

NNext æ˜¯æˆ‘ä»¬å®šä¹‰å„ç§ä»»åŠ¡çš„åœ°æ–¹ï¼Œå¯ä»¥é€šè¿‡é”®å…¥`npx hardhat <TASK_NAME>`æ¥è¿è¡Œè¿™äº›ä»»åŠ¡

åœ¨å¼€å‘é¡¹ç›®çš„åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿåœ¨ç¼–å†™è‡ªå·±çš„å®šåˆ¶ä»»åŠ¡ã€‚

æ–‡ä»¶çš„æœ«å°¾æ˜¯`module.export`ï¼Œè¿™é‡Œæˆ‘ä»¬å°†åˆ—å‡ºå„ç§å‚æ•°ï¼Œå¦‚ç¼–è¯‘å™¨ç‰ˆæœ¬ã€è¦ä½¿ç”¨çš„ç½‘ç»œã€API å¯†é’¥ç­‰ã€‚è¯·æ³¨æ„ï¼Œè¿™é‡Œæˆ‘ä»¬å·²ç»å®šä¹‰äº†å®åº¦ç‰ˆæœ¬ä¸º`0.8.4`ã€‚

# å®‰è£… OpenZeppelin åº“

åœ¨ç¼–å†™ä»»ä½•ç¨‹åºæ—¶ï¼Œæˆ‘ä»¬æ€»æ˜¯æ›´å–œæ¬¢ä½¿ç”¨å„ç§åº“ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸å¿…ä»å¤´å¼€å§‹ç¼–å†™æ‰€æœ‰çš„ç¨‹åºã€‚å› ä¸ºæˆ‘ä»¬è¦å»ºç«‹ä¸€ä¸ªåŸºäº NFT çš„é¡¹ç›®ï¼Œæˆ‘ä»¬å°†éµå¾ª [EIP-721](https://eips.ethereum.org/EIPS/eip-721) å®šä¹‰çš„æ ‡å‡†ã€‚æœ€å¥½çš„æ–¹æ³•æ˜¯å¯¼å…¥ OpenZeppelin å¥‘çº¦åº“ä¸­çš„ ERC721 å¥‘çº¦ï¼Œåªå¯¹æˆ‘ä»¬çš„é¡¹ç›®è¿›è¡Œå¿…è¦çš„ä¿®æ”¹ã€‚è¦å®‰è£…æ­¤è½¯ä»¶åŒ…ï¼Œè¯·æ‰“å¼€ç»ˆç«¯å¹¶è¿è¡Œå‘½ä»¤:

```js
npm install @openzeppelin/contracts 
```

# å¼€å§‹æˆ‘ä»¬çš„æ™ºèƒ½åˆåŒ

è®©æˆ‘ä»¬åœ¨`contracts`ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªåä¸º`Artwork.sol`çš„æ–°æ–‡ä»¶ã€‚è¿™å°†æ˜¯æˆ‘ä»¬çš„ç¬¬ä¸€ä»½æ™ºèƒ½åˆåŒï¼Œæœ‰åŠ©äºæˆ‘ä»¬åˆ›å»º NFTã€‚

```js
//SPDX-License-Identifier: Unlicense
pragma solidity 0.8.4; 

contract Artwork {}
```

æˆ‘ä»¬é¦–å…ˆå®šä¹‰æ™ºèƒ½åˆçº¦çš„è®¸å¯ã€‚å¯¹äºæœ¬æ•™ç¨‹ï¼Œæˆ‘ä»¬ä¿æŒå®ƒæœªç»è®¸å¯ã€‚å¦‚æœæˆ‘ä»¬ä¸å®šä¹‰è®¸å¯è¯ï¼Œå®ƒå°†åœ¨ç¼–è¯‘æ—¶å¼•èµ·è­¦å‘Šã€‚`pragma`å…³é”®å­—ç”¨äºå®šä¹‰ç¼–è¯‘ä»£ç çš„å¯é æ€§ç‰ˆæœ¬ã€‚ç¡®ä¿ä½¿ç”¨ä¸`hardhat.config.js`æ–‡ä»¶ä¸­å®šä¹‰çš„ç›¸åŒçš„å®ä½“ç‰ˆæœ¬ã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä»åˆšåˆšå®‰è£…çš„ OpenZeppelin åº“ä¸­å¯¼å…¥ ERC721 æ™ºèƒ½åˆçº¦ã€‚åœ¨å®šä¹‰å®ä½“ç‰ˆæœ¬çš„è¡Œä¹‹åï¼Œå®šä¹‰åˆåŒä¹‹å‰ï¼Œå¯¼å…¥ ERC721 åˆåŒ:

```js
import "@openzeppelin/contracts/token/ERC721/ERC721.sol";
```

## ç»§æ‰¿ ERC721 å’Œæ„é€ å‡½æ•°åˆå§‹åŒ–

å¯¹ä»£ç è¿›è¡Œä»¥ä¸‹ä¿®æ”¹:

```js
//SPDX-License-Identifier: Unlicense
pragma solidity 0.8.4; 

import "@openzeppelin/contracts/token/ERC721/ERC721.sol";

contract Artwork is ERC721 {

    constructor(
        string memory name,
        string memory symbol
    ) ERC721(name, symbol) {}

}
```

åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æ­£åœ¨åšä»¥ä¸‹äº‹æƒ…:

*   ä½¿ç”¨`is`å…³é”®å­—å°† OpenZeppelin ERC721 æ™ºèƒ½åˆçº¦ç»§æ‰¿åˆ°æˆ‘ä»¬çš„`Artwork.sol`æ™ºèƒ½åˆçº¦ä¸­ã€‚
*   æ„é€ å‡½æ•°å§‹ç»ˆæ˜¯éƒ¨ç½²æ™ºèƒ½åå®šæ—¶è°ƒç”¨çš„ç¬¬ä¸€ä¸ªå‡½æ•°ã€‚å› ä¸ºæˆ‘ä»¬ç»§æ‰¿äº†å¦ä¸€ä¸ªæ™ºèƒ½åå®šï¼Œæ‰€ä»¥åœ¨å®šä¹‰æ„é€ å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»ä¸ºè¯¥æ™ºèƒ½åå®šçš„æ„é€ å‡½æ•°ä¼ å…¥å€¼ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬å°†ä¸€ä¸ªåç§°å’Œç¬¦å·ä½œä¸ºæ„é€ å‡½æ•°å‚æ•°ï¼Œå¹¶å°†å®ƒä»¬ä¼ é€’ç»™ ERC721 çš„æ„é€ å‡½æ•°ã€‚
*   `name`å’Œ`symbol`å°†åˆ†åˆ«æˆä¸ºæˆ‘ä»¬ NFT çš„åç§°å’Œæ ‡å¿—ã€‚

## å®šä¹‰ä»¤ç‰Œè®¡æ•°å™¨

NFT è¢«ç§°ä¸ºä¸å¯æ›¿æ¢çš„ä»¤ç‰Œï¼Œå› ä¸ºæ¯ä¸ªéƒ½æ˜¯å”¯ä¸€çš„ã€‚å®ƒä»¬çš„ç‹¬ç‰¹ä¹‹å¤„åœ¨äºåˆ†é…ç»™å®ƒä»¬çš„ä»¤ç‰Œ idã€‚æˆ‘ä»¬å°†å®šä¹‰ä¸€ä¸ªåä¸º tokenCounter çš„å…¨å±€å˜é‡ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥è®¡ç®—ä»¤ç‰Œ idã€‚å®ƒå°†ä»é›¶å¼€å§‹ï¼Œæ¯åˆ›å»º(æˆ–â€œé“¸é€ â€)ä¸€ä¸ªæ–°çš„ NFT å°±é€’å¢ 1ã€‚tokenCounter çš„å€¼åœ¨æ„é€ å‡½æ•°ä¸­è®¾ç½®ä¸º 0ã€‚

```js
//SPDX-License-Identifier: Unlicense
pragma solidity 0.8.4; 

import "@openzeppelin/contracts/token/ERC721/ERC721.sol";

contract Artwork is ERC721 {

    uint256 public tokenCounter;

    constructor(
        string memory name,
        string memory symbol
    ) ERC721(name, symbol) {
        tokenCounter = 0;
    }

}
```

## åˆ›é€ é€ å¸åŠŸèƒ½

ç°åœ¨æˆ‘ä»¬è¦å®šä¹‰ä¸€ä¸ª mint å‡½æ•°ï¼Œä»»ä½•ç”¨æˆ·éƒ½å¯ä»¥è°ƒç”¨å®ƒæ¥åˆ›å»ºæ–°çš„ NFTã€‚æ¯ä¸ª NFT éƒ½æœ‰ä¸€äº›ç›¸å…³çš„æ•°æ®ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å›¾åƒæˆ–å…¶ä»–æ”¶è—å“ä½œä¸º NFT çš„åŸºç¡€ï¼Œå› æ­¤å›¾åƒåº”è¯¥ä»¥æŸç§æ–¹å¼å­˜å‚¨åœ¨æ™ºèƒ½åˆçº¦ä¸­ã€‚ç”±äºå°†æ•°æ®ç›´æ¥å­˜å‚¨åœ¨åŒºå—é“¾ä¸Šä¼šäº§ç”Ÿç›¸å…³æˆæœ¬ï¼Œå› æ­¤å¦‚æœå­˜å‚¨æ•´ä¸ªå½±åƒå’Œå…¶ä»–ç›¸å…³æ•°æ®(å…ƒæ•°æ®),åœ¨ç»æµä¸Šæ˜¯ä¸å¯è¡Œçš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å•ç‹¬å­˜æ”¾å›¾åƒå’Œä¸€ä¸ªåŒ…å« NFT æ‰€æœ‰ç»†èŠ‚çš„ JSON æ–‡ä»¶ã€‚å›¾åƒå’Œ JSON æ–‡ä»¶å¯ä»¥åˆ†å¼€æ‰˜ç®¡ï¼Œæ—¢å¯ä»¥åˆ†æ•£æ‰˜ç®¡(ä½¿ç”¨ IPFS)ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¼ ç»Ÿæ–¹æ³•é›†ä¸­æ‰˜ç®¡ã€‚JSON æ–‡ä»¶ä¹ŸåŒ…å«åˆ°å›¾åƒçš„é“¾æ¥ã€‚ä¸€æ—¦æ‰˜ç®¡äº† JSON æ–‡ä»¶ï¼ŒæŒ‡å‘è¯¥ JSON æ–‡ä»¶çš„é“¾æ¥å°†ä½œä¸º tokenURI å­˜å‚¨åœ¨åŒºå—é“¾ä¸­ã€‚URI ä»£è¡¨â€œé€šç”¨èµ„æºæ ‡è¯†ç¬¦â€ã€‚[è¿™ä¸ª](https://opensea-creatures-api.herokuapp.com/api/creature/2)æ˜¯é›†ä¸­æ‰˜ç®¡çš„ tokenURI çš„ä¸€ä¸ªä¾‹å­ã€‚

è®°ä½è¿™ä¸€ç‚¹ï¼Œmint å‡½æ•°å°±æ˜¯æˆ‘ä»¬å¦‚ä½•åˆ›å»ºä¸æ™ºèƒ½åˆçº¦ç›¸å…³è”çš„æ¯ä¸ª NFT:

```js
function mint(string memory _tokenURI) public {
    _safeMint(msg.sender, tokenCounter);
    _setTokenURI(tokenCounter, _tokenURI);

    tokenCounter++;
}
```

`_safeMint`æ˜¯ OpenZeppelin ERC721 åˆåŒä¸­çš„å¦ä¸€ä¸ªåŠŸèƒ½ï¼Œç”¨äºåˆ›å»ºæ–°çš„ NFTã€‚å®ƒéœ€è¦ä¸¤ä¸ªå‚æ•°:

*   to:ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¸æˆ·çš„åœ°å€ï¼Œè¯¥å¸æˆ·å°†åœ¨ NFT é“¸é€ åæ‹¥æœ‰å®ƒã€‚
*   tokenId:ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ–°ç”Ÿæˆçš„ NFT çš„ tokenIdã€‚

`msg.sender`æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å…³é”®å­—ï¼Œå®ƒè¿”å›è°ƒç”¨æ™ºèƒ½åˆçº¦çš„å¸æˆ·çš„åœ°å€ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒå°†è¿”å›å½“å‰è°ƒç”¨ mint å‡½æ•°çš„å¸æˆ·ã€‚å› æ­¤ï¼Œè°ƒç”¨ mint å‡½æ•°çš„å¸æˆ·å°†ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ï¼Œå› æ­¤ï¼Œé“¸é€ çš„ NFT å°†å½’è¯¥å¸æˆ·æ‰€æœ‰ã€‚

å‡½æ•°`_setTokenURI()`è¿˜æ²¡æœ‰å®šä¹‰ï¼Œæ‰€ä»¥æš‚æ—¶å¿½ç•¥å®ƒã€‚è¯¥å‡½æ•°å°†ç”¨äºä¸ºç”Ÿæˆçš„ NFT è®¾ç½® tokenURIã€‚è¯¥å‡½æ•°åœ¨ ERC721 åº“ä¸­å­˜åœ¨ï¼Œä½†åœ¨ Solidity ç‰ˆæœ¬ 0.8.0 åå·²åœæ­¢ä½¿ç”¨ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦è‡ªå·±å®ç°å®ƒã€‚

ä¸€æ—¦ä»¤ç‰Œç”Ÿæˆå¹¶è®¾ç½®äº†å…¶ tokenURIï¼Œæˆ‘ä»¬å°±å°† tokenCounter é€’å¢ 1ï¼Œè¿™æ ·ä¸‹ä¸€ä¸ªç”Ÿæˆçš„ä»¤ç‰Œå°±æœ‰äº†æ–°çš„ä»¤ç‰Œ idã€‚

## åˆ›å»º _setTokenURI()å‡½æ•°

æˆ‘ä»¬çš„ NFT æ™ºèƒ½åˆçº¦å¿…é¡»å­˜å‚¨æ‰€æœ‰æœ‰æ•ˆçš„ä»¤ç‰Œ id åŠå…¶å„è‡ªçš„ä»¤ç‰Œ URIã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Solidity ä¸­ä½¿ç”¨`mapping`æ•°æ®ç±»å‹ã€‚æ˜ å°„çš„å·¥ä½œæ–¹å¼ç±»ä¼¼äº Java ç­‰å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­çš„ hashmapsã€‚æˆ‘ä»¬å¯ä»¥å®šä¹‰ä»ä¸€ä¸ª`uint256`å·åˆ°ä¸€ä¸ª`string`å·çš„æ˜ å°„ï¼Œè¿™å°†è¡¨ç¤ºæ¯ä¸ªä»¤ç‰Œ id è¢«æ˜ å°„åˆ°å…¶å„è‡ªçš„ä»¤ç‰Œ URIã€‚åœ¨å£°æ˜ tokenCounter å˜é‡ä¹‹åï¼Œå®šä¹‰æ˜ å°„:

```js
mapping (uint256 => string) private _tokenURIs;
```

ç°åœ¨è®©æˆ‘ä»¬ç¼–å†™ _setTokenURI å‡½æ•°:

```js
function _setTokenURI(uint256 _tokenId, string memory _tokenURI) internal virtual {
    require(
        _exists(_tokenId),
        "ERC721Metadata: URI set of nonexistent token"
    );  // Checks if the tokenId exists
    _tokenURIs[_tokenId] = _tokenURI;
}
```

è¿™é‡Œå®šä¹‰äº†è®¸å¤šæ–°æœ¯è¯­ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬ä¸€ä¸ªä¸€ä¸ªåœ°å¤„ç†å®ƒä»¬:

*   **å†…éƒ¨:**ç”¨å†…éƒ¨å…³é”®å­—å®šä¹‰å‡½æ•°ã€‚è¿™æ„å‘³ç€æ­¤å‡½æ•°åªèƒ½ç”±è¯¥æ™ºèƒ½åˆçº¦ä¸­çš„å…¶ä»–å‡½æ•°æˆ–ç»§æ‰¿è¯¥æ™ºèƒ½åˆçº¦çš„å…¶ä»–æ™ºèƒ½åˆçº¦è°ƒç”¨ã€‚å¤–éƒ¨ç”¨æˆ·ä¸èƒ½è°ƒç”¨æ­¤åŠŸèƒ½ã€‚
*   **virtual:** è¯¥å…³é”®å­—è¡¨ç¤ºè¯¥å‡½æ•°å¯ä»¥è¢«ç»§æ‰¿è¯¥æ™ºèƒ½åå®šçš„ä»»ä½•åå®šè¦†ç›–ã€‚
*   **è¦æ±‚:**å‡½æ•°ä½“å†…ç¬¬ä¸€ä»¶äº‹å°±æ˜¯`require`å…³é”®å­—ã€‚å®ƒæ¥å—ä¸€ä¸ªæ¡ä»¶è¯­å¥ã€‚å¦‚æœè¯¥è¯­å¥è¿”å› trueï¼Œåˆ™æ‰§è¡Œå‡½æ•°ä½“çš„å…¶ä½™éƒ¨åˆ†ã€‚å¦‚æœæ¡ä»¶è¯­å¥è¿”å› falseï¼Œé‚£ä¹ˆå®ƒå°†ç”Ÿæˆä¸€ä¸ªé”™è¯¯ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯ç”Ÿæˆçš„é”™è¯¯æ¶ˆæ¯ï¼Œå®ƒæ˜¯å¯é€‰çš„ã€‚
*   **_exists():** å¦‚æœå­˜åœ¨ç”¨ä¼ é€’çš„ tokenId é“¸é€ çš„ä»¤ç‰Œï¼Œè¯¥å‡½æ•°è¿”å›**çœŸ**ï¼Œå¦åˆ™è¿”å›**å‡**ã€‚

**æ€»ä¹‹**:è¿™ä¸ªå‡½æ•°é¦–å…ˆç¡®ä¿æˆ‘ä»¬è¯•å›¾ä¸ºå…¶è®¾ç½® tokenURI çš„ tokenId å·²ç»ç”Ÿæˆã€‚å¦‚æœæ˜¯ï¼Œå®ƒä¼šå°† tokenURI å’Œç›¸åº”çš„ tokenId ä¸€èµ·æ·»åŠ åˆ°æ˜ å°„ä¸­ã€‚

## åˆ›å»º tokenURI()å‡½æ•°

æˆ‘ä»¬å¿…é¡»åˆ›å»ºçš„æœ€åä¸€ä¸ªå‡½æ•°æ˜¯`tokenURI()`å‡½æ•°ã€‚è¿™å°†æ˜¯ä¸€ä¸ªå¯å…¬å¼€è°ƒç”¨çš„å‡½æ•°ï¼Œå®ƒå°† tokenId ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›å…¶å„è‡ªçš„ tokenURIã€‚è¿™æ˜¯ä¸€ä¸ªæ ‡å‡†å‡½æ•°ï¼Œç”±å„ç§åŸºäº NFT çš„å¹³å°è°ƒç”¨ï¼Œå¦‚ [OpenSea](https://opensea.io/) ã€‚ç±»ä¼¼è¿™æ ·çš„å¹³å°ä½¿ç”¨ä»è¯¥å‡½æ•°è¿”å›çš„ tokenURI æ¥æ˜¾ç¤ºå…³äº NFT çš„å„ç§ä¿¡æ¯ï¼Œå¦‚å…¶å±æ€§å’Œæ˜¾ç¤ºå›¾åƒã€‚

è®©æˆ‘ä»¬ç¼–å†™ tokenURI å‡½æ•°:

```js
function tokenURI(uint256 _tokenId) public view virtual override returns(string memory) {
    require(
        _exists(_tokenId),
        "ERC721Metadata: URI set of nonexistent token"
    );
    return _tokenURIs[_tokenId];
}
```

*   **public:** è¿™ä¸ªå‡½æ•°æ˜¯å…¬å…±çš„ï¼Œè¿™æ„å‘³ç€ä»»ä½•å¤–éƒ¨ç”¨æˆ·éƒ½å¯ä»¥è°ƒç”¨å®ƒã€‚
*   **è§†å›¾:**ç”±äºæ­¤åŠŸèƒ½ä¸ä¼šæ”¹å˜åŒºå—é“¾çš„çŠ¶æ€ï¼Œå³ä¸ä¼šæ”¹å˜æ™ºèƒ½åˆçº¦ä¸­çš„ä»»ä½•å€¼ï¼Œå› æ­¤æ‰§è¡Œæ­¤åŠŸèƒ½å°†ä¸éœ€è¦ä»»ä½• Gasã€‚ç”±äºæ²¡æœ‰çŠ¶æ€å˜åŒ–å‘ç”Ÿï¼Œè¯¥åŠŸèƒ½è¢«å®šä¹‰ä¸º**è§†å›¾**ã€‚
*   **override:** åœ¨æˆ‘ä»¬ç»§æ‰¿çš„ ERC721 å¥‘çº¦ä¸­å·²ç»æœ‰ä¸€ä¸ª tokenURI()å‡½æ•°ï¼Œå®ƒä½¿ç”¨â€œbaseURI + tokenIdâ€çš„æ¦‚å¿µæ¥è¿”å› tokenURIã€‚å› ä¸ºæˆ‘ä»¬éœ€è¦ä¸€ä¸ªä¸åŒçš„é€»è¾‘ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ä½¿ç”¨è¿™ä¸ªå…³é”®å­—æ¥è¦†ç›–ç»§æ‰¿çš„å‡½æ•°ã€‚
*   **è¿”å›(å­—ç¬¦ä¸²å†…å­˜):**å› ä¸ºè¿™ä¸ªå‡½æ•°å°†è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»åœ¨å£°æ˜å‡½æ•°æ—¶å®šä¹‰å®ƒã€‚memory å…³é”®å­—å®šä¹‰äº†ä¿¡æ¯å­˜å‚¨çš„ä½ç½®ã€‚

è¯¥å‡½æ•°é¦–å…ˆæ£€æŸ¥ä¼ é€’çš„ tokenId æ˜¯å¦å®é™…ä¸Šæ˜¯ä¼ªé€ çš„ã€‚å¦‚æœä»¤ç‰Œæ˜¯ä¼ªé€ çš„ï¼Œå®ƒå°†ä»æ˜ å°„ä¸­è¿”å› tokenURIã€‚

## æŠŠæ‰€æœ‰çš„æ”¾åœ¨ä¸€èµ·

å°†æ‰€æœ‰åŠŸèƒ½æ”¾åœ¨ä¸€èµ·ï¼Œæœ€ç»ˆçš„æ™ºèƒ½åˆçº¦å°†å¦‚ä¸‹æ‰€ç¤º:

```js
//SPDX-License-Identifier: Unlicense
pragma solidity 0.8.4; 

import "@openzeppelin/contracts/token/ERC721/ERC721.sol";

contract Artwork is ERC721 {

    uint256 public tokenCounter;
    mapping (uint256 => string) private _tokenURIs;

    constructor(
        string memory name,
        string memory symbol
    ) ERC721(name, symbol) {
        tokenCounter = 0;
    }

    function mint(string memory _tokenURI) public {
        _safeMint(msg.sender, tokenCounter);
        _setTokenURI(tokenCounter, _tokenURI);

        tokenCounter++;
    }

    function _setTokenURI(uint256 _tokenId, string memory _tokenURI) internal virtual {
        require(
            _exists(_tokenId),
            "ERC721Metadata: URI set of nonexistent token"
        );  // Checks if the tokenId exists
        _tokenURIs[_tokenId] = _tokenURI;
    }

    function tokenURI(uint256 _tokenId) public view virtual override returns(string memory) {
        require(
            _exists(_tokenId),
            "ERC721Metadata: URI set of nonexistent token"
        );
        return _tokenURIs[_tokenId];
    }

}
```

# ç¼–è¯‘æ™ºèƒ½åˆåŒ

æ—¢ç„¶æˆ‘ä»¬çš„æ™ºèƒ½åˆçº¦å·²ç»å‡†å¤‡å¥½äº†ï¼Œæˆ‘ä»¬å¿…é¡»ç¼–è¯‘å®ƒã€‚è¦ä½¿ç”¨ HardHat ç¼–è¯‘æ™ºèƒ½åˆåŒï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤:

```js
npx hardhat compile 
```

å¦‚æœä¸€åˆ‡æŒ‰é¢„æœŸè¿›è¡Œï¼Œæ‚¨å°†å¾—åˆ°æ¶ˆæ¯â€œç¼–è¯‘æˆåŠŸå®Œæˆâ€ã€‚å¦‚æœå¥‘çº¦æ²¡æœ‰ç¼–è¯‘æˆåŠŸæˆ–è€…æœ‰é”™è¯¯ï¼Œè¯•ç€å†è¯»ä¸€éæ•™ç¨‹ï¼Œçœ‹çœ‹å“ªé‡Œå‡ºé”™äº†ã€‚ä¸€äº›å¯èƒ½çš„é”™è¯¯æ˜¯:

*   æœªæä¾›`SPDX-License-Identifier`
*   ç”¨**æ‚æ³¨**å…³é”®å­—å®šä¹‰çš„ Solidity ç¼–è¯‘å™¨ç‰ˆæœ¬ä¸åœ¨`hardhat.config.js`ä¸­å®šä¹‰çš„ç‰ˆæœ¬ä¸åŒ¹é…ã€‚
*   å¯¼å…¥çš„ smart contract çš„ Solidity ç‰ˆæœ¬ä¸ç”¨äºç¼–å†™æˆ‘ä»¬çš„ smart contract çš„ç‰ˆæœ¬ä¸åŒ¹é…ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¯·ä»”ç»†æ£€æŸ¥æ‚¨æ­£åœ¨ä½¿ç”¨ npm å®‰è£…çš„ OpenZeppelin å¥‘çº¦çš„ç‰ˆæœ¬ã€‚åœ¨æˆ‘çš„ä¾‹å­ä¸­ï¼Œnpm åŒ…æ˜¯ç‰ˆæœ¬ **4.3.2** ï¼Œæ™ºèƒ½åˆåŒæ˜¯ç”¨ solidity ç‰ˆæœ¬ **0.8.0** ç¼–å†™çš„ã€‚

# æµ‹è¯•æ™ºèƒ½åˆçº¦

è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»ç¼–å†™äº†æ™ºèƒ½å¥‘çº¦å¹¶å¯¹å…¶è¿›è¡Œäº†ç¼–è¯‘ã€‚ä½†æ˜¯ï¼ŒæˆåŠŸç¼–åˆ¶çš„æ™ºèƒ½åˆçº¦å¹¶ä¸ä»£è¡¨å®ƒå°±æ˜¯æ­£ç¡®çš„ï¼ç¼–å†™æµ‹è¯•ç”¨ä¾‹ä»¥ç¡®ä¿å®ƒé€šè¿‡æ‰€æœ‰çš„é¢„æœŸç”¨ä¾‹ä»¥åŠä¸€äº›è¾¹ç¼˜ç”¨ä¾‹æ˜¯éå¸¸é‡è¦çš„ã€‚æµ‹è¯•æ™ºèƒ½åˆçº¦å˜å¾—æ›´åŠ é‡è¦ï¼Œå› ä¸ºæ™ºèƒ½åˆçº¦ä¸€æ—¦éƒ¨ç½²åˆ°åŒºå—é“¾ï¼Œå°±æ— æ³•ä¿®æ”¹ã€‚

æˆ‘ä»¬å°†ä½¿ç”¨`chai`åº“æ¥ç¼–å†™æµ‹è¯•ã€‚åœ¨åˆ›å»ºæˆ‘ä»¬çš„é¡¹ç›®æ—¶åº”è¯¥å·²ç»å®‰è£…äº†è¿™ä¸ªåº“ï¼Œå¦‚æœæ²¡æœ‰ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å‘½ä»¤`npm install --save-dev chai`ã€‚

æˆ‘ä»¬å°†åœ¨ä»¥ä¸‹æ–¹é¢æµ‹è¯•æˆ‘ä»¬çš„æ™ºèƒ½åˆçº¦:

*   **NFT é“¸é€ æˆåŠŸ:**è´¦æˆ·è°ƒç”¨é“¸é€ åŠŸèƒ½åï¼Œä¸ºè¯¥è´¦æˆ·é“¸é€ ä¸€ä¸ª NFTï¼Œå…¶ä½™é¢å¢åŠ ã€‚
*   **tokenURI è®¾ç½®æˆåŠŸ:**å¯¹äºç”¨ä¸åŒ tokenURI ç”Ÿæˆçš„ä¸¤ä¸ªä»¤ç‰Œï¼Œä¸¤ä¸ªä»¤ç‰Œéƒ½æœ‰å„è‡ªçš„ token uriï¼Œå¯ä»¥æ­£å¸¸æ£€ç´¢æ•°æ®ã€‚

## ç¼–å†™æµ‹è¯•ç”¨ä¾‹

åœ¨`test`æ–‡ä»¶å¤¹ä¸­ä¼šæœ‰ä¸€ä¸ªåä¸º`sample-test.js`çš„è„šæœ¬ã€‚æˆ‘ä»¬å°†åˆ é™¤è¿™ä¸ªæ–‡ä»¶ï¼Œå¹¶åœ¨åŒä¸€ä¸ª`test`ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º`artwork-test.js`çš„æ–°æ–‡ä»¶ã€‚æ–‡ä»¶åå¹¶ä¸é‡è¦ï¼Œä½†æ˜¯ä¸ºäº†ä¿æŒå®ƒçš„ç»„ç»‡æ€§ï¼Œæµ‹è¯•æ–‡ä»¶åº”è¯¥ä»¥æŸç§æ–¹å¼ä¸è¢«æµ‹è¯•çš„åˆåŒç›¸å…³ã€‚åœ¨è¿™ä¸ªæ–°æ–‡ä»¶ä¸­ï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç :

```js
const { expect } = require('chai');
const { ethers } = require("hardhat")

describe("Artwork Smart Contract Tests", function() {

    this.beforeEach(async function() {
        // This is executed before each test
    })

    it("NFT is minted successfully", async function() {

    })

    it("tokenURI is set sucessfully", async function() {

    })

})
```

*   **æè¿°:**è¿™ä¸ªå…³é”®å­—ç”¨äºç»™æˆ‘ä»¬å°†è¦æ‰§è¡Œçš„ä¸€ç»„æµ‹è¯•å‘½åã€‚
*   **before each:**`beforeEach`ä¸­å®šä¹‰çš„å‡½æ•°å°†åœ¨æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ä¹‹å‰æ‰§è¡Œã€‚æˆ‘ä»¬å°†åœ¨è¿™é‡Œéƒ¨ç½² NFT å¥‘çº¦ï¼Œå› ä¸ºå¥‘çº¦å¿…é¡»åœ¨æ¯ä¸ªæµ‹è¯•è¿è¡Œä¹‹å‰éƒ¨ç½²ã€‚
*   **it:** è¿™æ˜¯ç”¨æ¥ç¼–å†™æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹çš„ã€‚`it`å‡½æ•°æ¥å—ä¸€ä¸ªæµ‹è¯•æ ‡é¢˜å’Œä¸€ä¸ªè¿è¡Œæµ‹è¯•ç”¨ä¾‹çš„å‡½æ•°ã€‚

**æ³¨æ„:ä¸ Truffle ä¸åŒï¼ŒHardHat ä¸éœ€è¦å•ç‹¬è¿è¡Œ`ganache-cli`è¿›è¡Œæµ‹è¯•ã€‚Hardhat æœ‰è‡ªå·±çš„æœ¬åœ°æµ‹è¯•ç½‘ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ã€‚**

## éƒ¨ç½²å¥‘çº¦å’Œç¼–å†™æµ‹è¯•

ä¸ºäº†éƒ¨ç½²æ™ºèƒ½å¥‘çº¦ï¼Œæˆ‘ä»¬å¿…é¡»é¦–å…ˆä½¿ç”¨`ethers.getContractFactory()`è·å¾—å¯¹ç¼–è¯‘åçš„æ™ºèƒ½å¥‘çº¦çš„å¼•ç”¨ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`deploy()`æ–¹æ³•æ¥éƒ¨ç½²æ™ºèƒ½å¥‘çº¦å¹¶ä¼ å…¥å‚æ•°ã€‚æˆ‘ä»¬åœ¨`beforeEach()`éƒ¨åˆ†åšè¿™ä¸ªã€‚

```js
let artwork;

this.beforeEach(async function() {
    // This is executed before each test
    // Deploying the smart contract
    const Artwork = await ethers.getContractFactory("Artwork");
    artwork = await Artwork.deploy("Artwork Contract", "ART");
})
```

ä¸ºäº†æ£€æŸ¥ NFT æ˜¯å¦è¢«æ­£ç¡®åˆ›å»ºï¼Œæˆ‘ä»¬é¦–å…ˆè·å–ä¸€ä¸ªç”± HardHat åˆ›å»ºçš„é»˜è®¤å¸æˆ·ã€‚ç„¶åæˆ‘ä»¬ç”¨ä¸€ä¸ªéšæœºçš„ tokenURI è°ƒç”¨æ™ºèƒ½å¥‘çº¦ä¸­çš„ mint å‡½æ•°ã€‚æˆ‘ä»¬æ£€æŸ¥äº†é“¸é€ å‰åçš„è´¦æˆ·ä½™é¢ï¼Œå®ƒåº”è¯¥åˆ†åˆ«ä¸º 0 å’Œ 1ã€‚å¦‚æœåˆåŒé€šè¿‡äº†æµ‹è¯•ï¼Œè¿™æ„å‘³ç€éåŠŸèƒ½æ€§äº¤æ˜“æ˜¯æ­£ç¡®çš„ã€‚

```js
it("NFT is minted successfully", async function() {
    [account1] = await ethers.getSigners();

    expect(await artwork.balanceOf(account1.address)).to.equal(0);

    const tokenURI = "https://opensea-creatures-api.herokuapp.com/api/creature/1"
    const tx = await artwork.connect(account1).mint(tokenURI);

    expect(await artwork.balanceOf(account1.address)).to.equal(1);
})
```

ä¸ºäº†æ£€æŸ¥ tokenURI çš„è®¾ç½®æ˜¯å¦æ­£ç¡®ï¼Œæˆ‘ä»¬éšæœºé€‰å–ä¸¤ä¸ª token uriï¼Œå¹¶ä»ä¸åŒçš„å¸æˆ·è®¾ç½®å®ƒä»¬ã€‚ç„¶åï¼Œæˆ‘ä»¬è°ƒç”¨ tokenURI()å‡½æ•°æ¥è·å–å„ä¸ªä»¤ç‰Œçš„ tokenURIï¼Œç„¶åå°†å®ƒä»¬ä¸ä¼ é€’çš„å‚æ•°è¿›è¡ŒåŒ¹é…ï¼Œä»¥ç¡®ä¿æ­£ç¡®è®¾ç½®äº† token uriã€‚

```js
it("tokenURI is set sucessfully", async function() {
    [account1, account2] = await ethers.getSigners();

    const tokenURI_1 = "https://opensea-creatures-api.herokuapp.com/api/creature/1"
    const tokenURI_2 = "https://opensea-creatures-api.herokuapp.com/api/creature/2"

    const tx1 = await artwork.connect(account1).mint(tokenURI_1);
    const tx2 = await artwork.connect(account2).mint(tokenURI_2);

    expect(await artwork.tokenURI(0)).to.equal(tokenURI_1);
    expect(await artwork.tokenURI(1)).to.equal(tokenURI_2);

})
```

## æŠŠæ‰€æœ‰çš„æ”¾åœ¨ä¸€èµ·

æ‰€ä»¥æœ€åï¼Œåœ¨æŠŠæ‰€æœ‰çš„æµ‹è¯•ç”¨ä¾‹æ”¾åœ¨ä¸€èµ·ä¹‹åï¼Œ`artwork-test.js`æ–‡ä»¶çš„å†…å®¹å°†ä¼šæ˜¯:

```js
const { expect } = require('chai');
const { ethers } = require("hardhat")

describe("Artwork Smart Contract Tests", function() {

    let artwork;

    this.beforeEach(async function() {
        // This is executed before each test
        // Deploying the smart contract
        const Artwork = await ethers.getContractFactory("Artwork");
        artwork = await Artwork.deploy("Artwork Contract", "ART");
    })

    it("NFT is minted successfully", async function() {
        [account1] = await ethers.getSigners();

        expect(await artwork.balanceOf(account1.address)).to.equal(0);

        const tokenURI = "https://opensea-creatures-api.herokuapp.com/api/creature/1"
        const tx = await artwork.connect(account1).mint(tokenURI);

        expect(await artwork.balanceOf(account1.address)).to.equal(1);
    })

    it("tokenURI is set sucessfully", async function() {
        [account1, account2] = await ethers.getSigners();

        const tokenURI_1 = "https://opensea-creatures-api.herokuapp.com/api/creature/1"
        const tokenURI_2 = "https://opensea-creatures-api.herokuapp.com/api/creature/2"

        const tx1 = await artwork.connect(account1).mint(tokenURI_1);
        const tx2 = await artwork.connect(account2).mint(tokenURI_2);

        expect(await artwork.tokenURI(0)).to.equal(tokenURI_1);
        expect(await artwork.tokenURI(1)).to.equal(tokenURI_2);

    })

})
```

æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿è¡Œæµ‹è¯•:

```js
npx hardhat test 
```

è¿™åº”è¯¥ä¼šè¾“å‡º:

[![Running Tests](img/53bb348dbc999810b220845a1b11be95.png)](https://github.com/figment-networks/learn-tutorials/raw/master/assets/ranTest.png)

# éƒ¨ç½²æ™ºèƒ½åˆåŒ

è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å­¦ä¼šäº†å¦‚ä½•ç¼–å†™å’Œæµ‹è¯•æ™ºèƒ½åˆçº¦ã€‚ç°åœ¨æ˜¯æ—¶å€™æˆ‘ä»¬æœ€ç»ˆå°†æ™ºèƒ½åˆåŒéƒ¨ç½²åˆ°å­Ÿä¹°æµ‹è¯•ç½‘ä¸Šäº†ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å‘æˆ‘ä»¬çš„æœ‹å‹å±•ç¤ºæˆ‘ä»¬æ–°å­¦åˆ°çš„æŠ€èƒ½äº†ğŸ˜ã€‚

åœ¨æˆ‘ä»¬ç»§ç»­éƒ¨ç½²æ™ºèƒ½åˆåŒä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å¦å¤–ä¸¤ä¸ª npm åŒ…:

*   **dotenv:** å‹`npm install dotenv`ã€‚è¿™å°†ç”¨äºç®¡ç†ç¯å¢ƒå˜é‡ï¼Œè¿™äº›å˜é‡ç”¨äºè®¾ç½®å¯¹æˆ‘ä»¬çš„ Polygonscan API é”®çš„è®¿é—®ã€‚
*   **@ nomic labs/hard hat-ethers can:**ç±»å‹`npm install @nomiclabs/hardhat-etherscan`ã€‚è¯¥åº“ç”¨äºåœ¨å°†æ™ºèƒ½åˆçº¦éƒ¨ç½²åˆ°ç½‘ç»œæ—¶éªŒè¯æ™ºèƒ½åˆçº¦ã€‚åœ¨ Etherscan å’Œ Polygonscan ä¸ŠéªŒè¯æ™ºèƒ½åˆåŒçš„è¿‡ç¨‹æ˜¯ç›¸åŒçš„ã€‚

## è®¾ç½®ç¯å¢ƒå˜é‡

[![Creating ENV File](img/51f8592bc22dbae1aeeed65860b3397e.png)](https://github.com/figment-networks/learn-tutorials/raw/master/assets/WithENV.png)

åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º`.env`çš„æ–°æ–‡ä»¶

åœ¨`.env`æ–‡ä»¶ä¸­åˆ›å»ºä¸€ä¸ªåä¸º`POLYGONSCAN_KEY`çš„æ–°æ¡ç›®ï¼Œå¹¶å°†å…¶è®¾ç½®ä¸ºç­‰äºæœ¬æ•™ç¨‹å¼€å§‹æ—¶åˆ›å»ºçš„ API é”®ã€‚è¿˜è¦æ·»åŠ å¦ä¸€ä¸ªæ¡ç›®`PRIVATE_KEY`ï¼Œå¹¶å°†å…¶è®¾ç½®ä¸ºåŒ…å« MATIC çš„ Mumbai testnet å¸æˆ·çš„ç§é’¥ã€‚

```js
POLYGONSCAN_KEY=Paste the API key here
PRIVATE_KEY=Paste the private key here 
```

## ä¿®æ”¹é…ç½®æ–‡ä»¶

ä¸ºäº†å°†ç»è¿‡éªŒè¯çš„æ™ºèƒ½åˆçº¦éƒ¨ç½²åˆ° Mumbai testnetï¼Œæˆ‘ä»¬å¿…é¡»å¯¹`hardhat.config.js`æ–‡ä»¶è¿›è¡ŒæŸäº›æ›´æ”¹ã€‚é¦–å…ˆï¼Œå¤åˆ¶&å°†æ•´ä¸ªä»£ç ç²˜è´´åˆ°æ–‡ä»¶ä¸­ï¼Œç„¶åæˆ‘ä»¬å°†ä¸€æ­¥ä¸€æ­¥åœ°äº†è§£å‘ç”Ÿäº†ä»€ä¹ˆ:

```js
require("@nomiclabs/hardhat-waffle");
require("@nomiclabs/hardhat-etherscan")
require("dotenv").config();

task("accounts", "Prints the list of accounts", async (taskArgs, hre) => {
  const accounts = await hre.ethers.getSigners();

  for (const account of accounts) {
    console.log(account.address);
  }
});

task("deploy", "Deploy the smart contracts", async(taskArgs, hre) => {

  const Artwork = await hre.ethers.getContractFactory("Artwork");
  const artwork = await Artwork.deploy("Artwork Contract", "ART");

  await artwork.deployed();

  await hre.run("verify:verify", {
    address: artwork.address,
    constructorArguments: [
      "Artwork Contract",
      "ART"
    ]
  })

})

module.exports = {
  solidity: "0.8.4",
  networks: {
    mumbai: {
      url: "https://matic-testnet-archive-rpc.bwarelabs.com",
      accounts: [
        process.env.PRIVATE_KEY,
      ]
    }
  },
  etherscan: {
    apiKey: process.env.POLYGONSCAN_KEY,
  }
};
```

ç°åœ¨è®©æˆ‘ä»¬ç†è§£æˆ‘ä»¬åœ¨è¿™é‡Œåšä»€ä¹ˆ:

*   æˆ‘ä»¬å·²ç»å¯¼å…¥äº†`@nomiclabs/hardhat-etherscan`åŒ…ï¼Œè¿™æ˜¯ä¸€ä¸ªå®‰å…¨å¸½æ’ä»¶ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿåœ¨å°†æ™ºèƒ½åˆåŒéƒ¨ç½²åˆ°ç½‘ç»œåå¯¹å…¶è¿›è¡ŒéªŒè¯ã€‚
*   ä¸ºäº†éªŒè¯æ™ºèƒ½å¥‘çº¦ï¼Œæˆ‘ä»¬å°†éœ€è¦æˆ‘ä»¬åœ¨æœ¬æ•™ç¨‹å¼€å§‹æ—¶åˆ›å»ºçš„ Polygonscan API å¯†é’¥ã€‚è¯¥ API é”®é€šè¿‡`module.export`ä¼ é€’ã€‚è¯·æ³¨æ„ï¼Œå¯¹è±¡åä¸ºâ€œetherscanâ€ï¼Œæœ¯è¯­â€œapiKeyâ€ç”¨äºæŒ‡ä»£æˆ‘ä»¬åˆ›å»ºçš„å¯†é’¥ã€‚
*   æˆ‘ä»¬è¿˜åˆ›å»ºäº†ä¸€ä¸ªéƒ¨ç½²æ™ºèƒ½åˆåŒçš„æ–°ä»»åŠ¡ã€‚ä¸ºäº†åˆ›å»ºä»»åŠ¡ï¼Œæˆ‘ä»¬ä½¿ç”¨ task å…³é”®å­—ï¼Œå¹¶å‘å®ƒä¼ é€’ä¸€ä¸ªåç§°å’Œæè¿°ã€‚åœ¨æ­¤ä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬ç¼–å†™äº†éƒ¨ç½²æ™ºèƒ½åˆçº¦çš„ä»£ç ã€‚éƒ¨ç½²åˆåŒåï¼Œæˆ‘ä»¬è°ƒç”¨ verify:verify ä»»åŠ¡ï¼Œè¿™ä¸ªä»»åŠ¡ç”± hardhat-etherscan æ’ä»¶æä¾›ã€‚åœ¨éƒ¨ç½²åå®šæ—¶ï¼Œæˆ‘ä»¬ä¼ é€’äº†åå®šåœ°å€ä»¥åŠä¼ é€’ç»™æ„é€ å‡½æ•°çš„å‚æ•°ã€‚
*   æœ€åï¼Œç”±äºæˆ‘ä»¬è¦å°†æˆ‘ä»¬çš„åˆåŒéƒ¨ç½²åˆ° Mumbai testnetï¼Œæˆ‘ä»¬åœ¨ network éƒ¨åˆ†åˆ›å»ºäº†ä¸€ä¸ªæ–°æ¡ç›®ï¼Œå¹¶å°† RPC url æ·»åŠ åˆ° Mumbai testnetï¼ŒåŒæ—¶æ·»åŠ äº†å°†ç”¨äºéƒ¨ç½²æ™ºèƒ½åˆåŒçš„å¸æˆ·çš„ç§é’¥ã€‚

## éƒ¨ç½²æ™ºèƒ½åˆåŒ

æˆ‘ä»¬ç°åœ¨å‡†å¤‡å°†æˆ‘ä»¬çš„åˆåŒéƒ¨ç½²åˆ° testnetã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤:

```js
npx hardhat deploy --network mumbai 
```

ç°åœ¨ï¼Œæˆ‘ä»¬å¿…é¡»ç­‰å¾…å‡ åˆ†é’Ÿï¼Œå› ä¸ºåˆåŒå·²ç»éƒ¨ç½²å¹¶å¾—åˆ°éªŒè¯ã€‚<g-emoji class="g-emoji" alias="crossed_fingers" fallback-src="https://github.githubassets.cimg/icons/emoji/unicode/1f91e.png">ğŸ¤</g-emoji> <g-emoji class="g-emoji" alias="crossed_fingers" fallback-src="https://github.githubassets.cimg/icons/emoji/unicode/1f91e.png">ğŸ¤</g-emoji> <g-emoji class="g-emoji" alias="crossed_fingers" fallback-src="https://github.githubassets.cimg/icons/emoji/unicode/1f91e.png">ğŸ¤</g-emoji>

å¦‚æœä¸€åˆ‡éƒ½æ˜¯æ­£ç¡®çš„ï¼Œæ‚¨åº”è¯¥å¾—åˆ°ç±»ä¼¼å¦‚ä¸‹çš„è¾“å‡º:

[![Deploying Contract](img/ad9a0c4bb7c6ab60482d82f7b89242d8.png)](https://github.com/figment-networks/learn-tutorials/raw/master/assets/DeployingContract.png)

ç°åœ¨ï¼Œæ‚¨å¯ä»¥é€šè¿‡è¾“å‡ºä¸­æä¾›çš„é“¾æ¥æŸ¥çœ‹æ‚¨çš„åˆåŒã€‚ä½ å¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹æˆ‘çš„å·²éƒ¨ç½²å¥‘çº¦[çš„ä¾‹å­ã€‚](https://mumbai.polygonscan.com/address/0x12Fc3C44b4092aD55cf0212fa3A84a1210fCED5f)

## éƒ¨ç½²æ—¶çš„æ½œåœ¨é”™è¯¯

**èµ„é‡‘ä¸è¶³**

å¦‚æœæ‚¨ä¼ é€’çš„ç§é’¥å±äºä¸€ä¸ªæ²¡æœ‰è¶³å¤Ÿçš„è‡ªåŠ¨ä»¤ç‰Œæ¥éƒ¨ç½²åå®šçš„å¸æˆ·ï¼Œæ‚¨å°†å¾—åˆ°ä»¥ä¸‹é”™è¯¯:

```js
Error: insufficient funds for intrinsic transaction cost (error={"name":"ProviderError","code":-32000,"_isProviderError":true}, method="sendTransaction", transaction=undefined, code=INSUFFICIENT_FUNDS, version=providers/5.4.5)
...
reason: 'insufficient funds for intrinsic transaction cost',
code: 'INSUFFICIENT_FUNDS',
error: ProviderError: insufficient funds for gas * price + value
...
method: 'sendTransaction',
transaction: undefined 
```

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¯·è®°ä½ä½¿ç”¨[æ°´é¾™å¤´](https://faucet.polygon.technology/)ä¸ºæ‚¨çš„éƒ¨ç½²å¸æˆ·æä¾›èµ„é‡‘ã€‚

**æ— æ•ˆçš„ API å¯†é’¥**

å¦‚æœæ‚¨è¾“å…¥çš„ Polygonscan API é”®ä¸¢å¤±æˆ–æ— æ•ˆï¼Œæ‚¨å°†å¾—åˆ°ä»¥ä¸‹é”™è¯¯æ¶ˆæ¯:

```js
Nothing to compile
Compiling 1 file with 0.8.4
Error in plugin @nomiclabs/hardhat-etherscan: Invalid API Key

For more info run Hardhat with --show-stack-traces 
```

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¯·ç¡®ä¿æ‚¨è¾“å…¥äº†æ­£ç¡®çš„ API å¯†é’¥ã€‚

# ä¸æ™ºèƒ½åˆåŒäº¤äº’

å¦‚æœæˆ‘ä»¬åœ¨ Polygonscan ä¸ŠæŸ¥çœ‹æˆ‘ä»¬çš„æ™ºèƒ½åˆåŒï¼Œä½ å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„åˆåŒæ˜¯ç»è¿‡éªŒè¯çš„ã€‚è¿™ç”±â€œåˆåŒâ€æ ‡ç­¾ä¸­çš„ç»¿è‰²å¤é€‰æ ‡è®°è¡¨ç¤ºã€‚åœ¨åˆåŒé€‰é¡¹å¡ä¸­ï¼Œç‚¹å‡»`Write Contract`ã€‚ç°åœ¨ç‚¹å‡»â€œè¿æ¥åˆ° Web3â€å¹¶è¿æ¥æ‚¨çš„ Metamask å¸æˆ·ã€‚

[![Contract Deployed and Verified](img/82c736204ace02a9fac056c27325df18.png)](https://github.com/figment-networks/learn-tutorials/raw/master/assets/ContractVerified.png)

ç°åœ¨é€‰æ‹©`mint`åŠ¨ä½œå¹¶æ”¾å…¥æ‚¨çš„ tokenURIã€‚æˆ‘ä½¿ç”¨ https://gambakitties-metadata.herokuapp.com/metadata/1 T2 ä½œä¸ºæˆ‘çš„ä»¤ç‰Œ URIã€‚å¦‚æœæ‚¨æ„¿æ„ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨ IPFS æ‰˜ç®¡å®ƒæ¥åˆ›å»ºè‡ªå·±çš„ tokenURIã€‚è¾“å…¥ä»¤ç‰Œ URI åï¼Œå•å‡»â€œå†™å…¥â€æŒ‰é’®ã€‚è¿™å°†æ˜¾ç¤ºä¸€ä¸ªå…ƒæ©ç å¼¹å‡ºçª—å£ã€‚ç¡®è®¤äº¤æ˜“ï¼Œç­‰å¾…ç¡®è®¤ã€‚

[![MetaMask Sign Popup](img/37cddb882272890eca26e48f4f6529c1.png)](https://github.com/figment-networks/learn-tutorials/raw/master/assets/MetaMaskSign.png)

æ­å–œ<g-emoji class="g-emoji" alias="partying_face" fallback-src="https://github.githubassets.cimg/icons/emoji/unicode/1f973.png">ğŸ¥³</g-emoji>T2ã€‘ğŸ¥³T4ã€‘ğŸ¥³ï¼Œä½ çš„ NFT é“¸é€ æˆåŠŸã€‚æ‚¨å¯ä»¥è®¿é—® [Opensea Testnet](https://testnets.opensea.io/) é¡µé¢ï¼Œåœ¨â€œæˆ‘çš„ä¸ªäººèµ„æ–™â€éƒ¨åˆ†ï¼Œæ‚¨ç°åœ¨å¯ä»¥æŸ¥çœ‹æ‚¨çš„ NFTã€‚ç‚¹å‡»æŸ¥çœ‹ç¤ºä¾‹[ã€‚](https://testnets.opensea.io/assets/mumbai/0x12fc3c44b4092ad55cf0212fa3a84a1210fced5f/0)

[![NFT in Opensea Testnet](img/46a780ba7570e3b6acd039e8bb30bb22.png)](https://github.com/figment-networks/learn-tutorials/raw/master/assets/NFTMinted.png)

# ç»“è®º

åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†ä¸€äº›åŸºæœ¬çš„å®‰å…¨å¸½ã€‚æˆ‘ä»¬ç¼–å†™äº†ä¸€ä¸ªå¯ç”¨äºåˆ›å»º NFT çš„æ™ºèƒ½å¥‘çº¦ï¼Œä¸ºæˆ‘ä»¬çš„æ™ºèƒ½å¥‘çº¦ç¼–å†™äº†æµ‹è¯•ï¼Œå¹¶æœ€ç»ˆå°†å…¶éƒ¨ç½²åˆ°å­Ÿä¹°æµ‹è¯•ç½‘ã€‚æˆ‘ä»¬è¿˜ä½¿ç”¨ä¸€ä¸ª HardHat æ’ä»¶å’Œä¸€ä¸ª Polygonscan API å¯†åŒ™éªŒè¯äº†æˆ‘ä»¬çš„åˆåŒã€‚ä½¿ç”¨ç±»ä¼¼çš„ç¨‹åºï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºä»»æ„æ•°é‡çš„ DeFi é¡¹ç›®ï¼Œå¹¶éƒ¨ç½²åˆ°ä»»ä½• EVM å…¼å®¹ç½‘ç»œ(ä»¥å¤ªåŠã€å¤šè¾¹å½¢ã€å¸å®‰æ™ºèƒ½é“¾ã€é›ªå´©ç­‰)ã€‚).

# åç»­æ­¥éª¤

ä¸ºä»€ä¹ˆåœåœ¨è¿™é‡Œï¼Ÿå±•æœ›æœªæ¥ï¼Œä½ è¿˜å¯ä»¥å­¦ä¹ å¦‚ä½•å»ºç«‹ä¸€ä¸ª NFT å¸‚åœºåˆåŒï¼Œåœ¨è¿™é‡Œå„ç§éåŠŸèƒ½æ€§äº¤æ˜“å¯ä»¥ä¸Šå¸‚ã€ä¹°å–ã€‚ä½ ä¹Ÿå¯ä»¥æ·±å…¥æŒ–æ˜éåŠŸèƒ½æ€§æµ‹è¯•çš„å…¶ä»–æ–¹é¢ï¼Œå­¦ä¹ æ–°çš„ä¸œè¥¿ğŸ˜ï¼

# å…³äºä½œè€…

å—¨ï¼Œæˆ‘çš„åå­—æ˜¯ Bhaskar Duttaï¼Œæˆ‘æ˜¯ä¸€ååŒºå—é“¾å¼€å‘è€…ï¼Œç ”ç©¶å‘˜å’Œè‡ªç”±èŒä¸šè€…ã€‚æˆ‘æ€»æ˜¯æœŸå¾…ç€å­¦ä¹ æ–°çš„ä¸œè¥¿ï¼Œæˆ‘å–œæ¬¢è®¨è®ºæƒ…æ™¯å–œå‰§ã€‚ä¸ºäº†æ›´å¥½åœ°äº†è§£æˆ‘ï¼Œä½ å¯ä»¥æŸ¥çœ‹æˆ‘çš„ [Github](https://github.com/BhaskarDutta2209) ç®€ä»‹ã€‚

# å‚è€ƒ

æˆ‘å‘ç°ä»¥ä¸‹å‡ ç‚¹å¯¹å­¦ä¹ å¾ˆæœ‰å¸®åŠ©:

*   [å®‰å…¨å¸½å®˜æ–¹æ–‡æ¡£](https://hardhat.org/)
*   [Matic å®˜æ–¹æ–‡æ¡£](https://docs.matic.network/docs/develop/getting-started)
*   [æ‰“å¼€é½æŸæ—è®ºå›é¡µé¢](https://forum.openzeppelin.com/t/function-settokenuri-in-erc721-is-gone-with-pragma-0-8-0/5978/3)å…³äº setTokenURI åœ¨ Solidity 0.8.0 çš„å˜åŒ–ã€‚