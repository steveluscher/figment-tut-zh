# å°†å­Ÿä¹°æµ‹è¯•ç½‘æ·»åŠ åˆ° metamask

> åŸæ–‡:[https://github . com/fig ment-networks/learn-tutorials/blob/master/mirror/01-mirror-setup . MD](https://github.com/figment-networks/learn-tutorials/blob/master/mirror/01-mirror-setup.md)

æ‚¨å°†åœ¨æˆ‘ä»¬é¢„å…ˆæ„å»ºçš„ [Next.js](https://nextjs.org/) æ¨¡æ¿çš„åŸºç¡€ä¸Šæ„å»ºåšå®¢åº”ç”¨ç¨‹åºã€‚è¿™æ ·ï¼Œä½ å°±å¯ä»¥ç”¨æœ€å°‘çš„é…ç½®å¿«é€Ÿå¼€å‘ Web 3 dAppã€‚

å¯¹äºè¿™äº›æ•™ç¨‹ï¼Œæ‚¨éœ€è¦è¿æ¥åˆ° Polygon Mumbai testnetï¼Œå› æ­¤å°†å…¶æ·»åŠ åˆ° MetaMask ä¸­çš„ RPC ç«¯ç‚¹åˆ—è¡¨ä¸­ã€‚å•å‡» web æµè§ˆå™¨ä¸­çš„ç‹ç‹¸å¤´å›¾æ ‡æ‰“å¼€å¼¹å‡ºçª—å£ï¼Œç„¶åæŒ‰ç…§ä»¥ä¸‹å·¥ä½œæµç¨‹å®Œæˆæµç¨‹:

*   ç‚¹å‡»å½“å‰ç½‘ç»œä¸Šæ–¹çš„ MetaMask å¼¹å‡ºçª—å£(é»˜è®¤æƒ…å†µä¸‹æ˜¯è¡¨ç¤º"ä»¥å¤ªåŠ Mainnet ")
*   å‘ä¸‹æ»šåŠ¨å¹¶å•å‡»â€œè‡ªå®šä¹‰ RPCâ€
*   å¡«å†™è¡¨æ ¼:
    *   ç½‘ç»œåç§°:`Polygon Mumbai`
    *   æ–°çš„ RPC URL: `https://rpc-mumbai.maticvigil.com/`
    *   é“¾ ID: `80001`
    *   è´§å¸ç¬¦å·:`MATIC`
    *   é˜»æ­¢æµè§ˆå™¨ URL : `https://mumbai.polygonscan.com`
*   ä»”ç»†æ£€æŸ¥ä¿¡æ¯ï¼Œç„¶åç‚¹å‡»**ä¿å­˜**æŒ‰é’®ã€‚

[![](../Images/05d865121a9efb73c679c3f83c195096.png)T2ã€‘](https://raw.githubusercontent.com/figment-networks/learn-web3-dapp/main/markdown/__images__/polygon/add_mumbai.png?raw=true)

æˆ‘ä»¬å¼ºçƒˆå»ºè®®åœ¨è¿›å…¥ä¸»ç½‘ç»œæˆ–â€œmainnetâ€ä¸Šçš„ç”Ÿäº§ä¹‹å‰ä½¿ç”¨ testnet è¿›è¡Œå¼€å‘ã€‚

# ç”¨ MATIC å‘æ‚¨çš„å¸æˆ·å­˜æ¬¾<g-emoji class="g-emoji" alias="money_mouth_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f911.png">ğŸ¤‘</g-emoji>

æ‚¨å°†éœ€è¦ä¸€äº› MATIC ä»¤ç‰Œï¼Œä»¥ä¾¿èƒ½å¤Ÿåœ¨ä»¥ä¸‹æ•™ç¨‹ä¹‹ä¸€ä¸­ä¸ºæ™ºèƒ½åˆçº¦çš„éƒ¨ç½²æä¾›èµ„é‡‘ï¼æŠŠè¿™æƒ³è±¡æˆé•¿é€”æ—…è¡Œå‰åœ¨åŠ æ²¹ç«™åŠ æ²¹ã€‚

è®¿é—®ä½äº[https://æ°´é¾™å¤´. polygon.technology](https://faucet.polygon.technology) çš„ Polygon æ°´é¾™å¤´ï¼Œå¹¶å°†æ‚¨åœ¨ MetaMask ä¸­é€‰æ‹©çš„å¸æˆ·çš„åœ°å€ç²˜è´´åˆ° textinput ä¸­ã€‚å¯ä»¥ä¿ç•™é€‰æ‹©çš„**å­Ÿä¹°**ç½‘ç»œå’Œ **MATIC** ä»¤ç‰Œçš„é»˜è®¤é€‰é¡¹ã€‚ç‚¹å‡»**æäº¤**æŒ‰é’®ï¼Œç„¶åå†æ¬¡ç‚¹å‡»å¼¹å‡ºçª—å£ç¡®è®¤äº¤æ˜“ã€‚ä½ æ¯æ¬¡è¿™æ ·åšéƒ½ä¼šå¾—åˆ° 0.5 MATIC çš„å¥–åŠ±ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªé€Ÿç‡é™åˆ¶ï¼Œæ‰€ä»¥ä¸è¦å¤ªè´ªå¿ƒã€‚åŠä¸ª MATIC è¶³ä»¥éƒ¨ç½²å¤šä¸ªå¥‘çº¦å¹¶è¿è¡Œæµ‹è¯•äº‹åŠ¡ã€‚

# å¼€å§‹ä½¿ç”¨<g-emoji class="g-emoji" alias="clapper" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f3ac.png">ğŸ¬</g-emoji>

ç¡®ä¿ä½ å·²ç»å®‰è£…äº† [git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git) ã€ [Node](https://nodejs.org/en/) å’Œ [yarn](https://yarnpkg.com/getting-started/install) ã€‚ç¡®ä¿å·²ç»ä¸º Github è®¾ç½®äº† [SSH æˆ–åŸºäºä»¤ç‰Œçš„è®¤è¯](https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/)ã€‚

ä½¿ç”¨`git`å…‹éš†é¡¹ç›®æ¨¡æ¿ä»£ç åº“ï¼Œç„¶ååˆ‡æ¢åˆ°é¡¹ç›®çš„æ ¹ç›®å½•ã€‚

```
$ git clone git@github.com:figment-networks/web3-evm-template.git
$ cd web3-evm-template 
```

{% hint style="warning" %}å½“æ‚¨çœ‹åˆ°ä»£ç å—ä¸­æœ‰ä»¥`$`å¼€å¤´çš„è¡Œæ—¶ï¼Œè¿™è¡¨æ˜è¿™äº›å‘½ä»¤åº”è¯¥åœ¨æ‚¨çš„ç»ˆç«¯ä¸­è¿è¡Œã€‚ç¾å…ƒç¬¦å·æ˜¯ä¸€ä¸ª*å‘½ä»¤æç¤ºç¬¦*ï¼Œä¸åº”è¯¥åŒ…å«åœ¨å‘½ä»¤ä¸­ã€‚{% endhint %}

ç°åœ¨æ‚¨å·²ç»æœ‰äº†æ¨¡æ¿ï¼Œæ‚¨éœ€è¦å¯¼èˆªåˆ°åŒ…å«æœ¬æ•™ç¨‹ä»£ç çš„åˆ†æ”¯ï¼Œç„¶åä½¿ç”¨ yarn package manager å®‰è£…åº”ç”¨ç¨‹åºä¾èµ–é¡¹:

```
$ git checkout mirror-clone
$ yarn 
```

å¦‚æœæ‚¨é‡åˆ°ä»»ä½• Node.js é—®é¢˜ï¼Œè¯·ç¡®ä¿æ‚¨è¿è¡Œçš„æ˜¯ 14.17.0 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚å¦‚æœéœ€è¦æœ¬åœ°ç®¡ç†å¤šä¸ªèŠ‚ç‚¹ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨[èŠ‚ç‚¹ç‰ˆæœ¬ç®¡ç†å™¨](https://github.com/nvm-sh/nvm)ã€‚

æ¥ä¸‹æ¥ï¼Œæ‚¨éœ€è¦å¤åˆ¶ç¤ºä¾‹ç¯å¢ƒæ–‡ä»¶`.env.local.example`æ¥è®¾ç½®ä½¿ç”¨ Hardhat éƒ¨ç½²æ™ºèƒ½å¥‘çº¦æ‰€éœ€çš„ç¯å¢ƒå˜é‡ã€‚

```
$ cp .env.local.example .env.local 
```

ç°åœ¨æ‰“å¼€æ–‡ä»¶`.env.local`ï¼Œæ ¹æ®ä¸‹é¢çš„è¯´æ˜è®¾ç½®å››ä¸ªç¯å¢ƒå˜é‡ã€‚å¦‚æœä½ ä¸ç†Ÿæ‚‰å®ƒä»¬ï¼Œå¤šè¯»è¯» [dotenv åŒ…å’Œ`.env`æ–‡ä»¶](https://docs.figment.io/network-documentation/extra-guides/dotenv-and-.env)ã€‚

```
POLYGONSCAN_API_KEY=Polygonscan API Key. Go to https://polygonscan.com/login and login or create an account. Then click on API-KEYs on the left navigation panel to create an api key. Name the app MirrorClone. Copy-paste the API key here.
MAINNET_NODE_URL=https://matic-mainnet.chainstacklabs.com
TESTNET_NODE_URL=https://matic-mumbai.chainstacklabs.com
PRIVATE_KEY=The private key of an account funded with MATIC that you've exported from MetaMask. Go to https://metamask.zendesk.com/hc/en-us/articles/360015289632-How-to-Export-an-Account-Private-Key to learn how to export your private key. 
```

å¦‚æœæ‚¨è¿˜æ²¡æœ‰å°† MetaMask ä½œä¸ºæµè§ˆå™¨æ‰©å±•å®‰è£…ï¼Œæ‚¨åº”è¯¥åœ¨ç»§ç»­ä¹‹å‰å®‰è£…ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œè¿›å…¥å®ƒçš„ä¸‹è½½é¡µé¢[ã€‚](https://metamask.io/download.html)

{% sidenote title="Box 1.1:ä»€ä¹ˆæ˜¯å…ƒæ©ç ï¼Ÿ"%} [MetaMask](https://metamask.io/) æ˜¯ä¸€ä¸ªä½œä¸ºæµè§ˆå™¨æ‰©å±•æ„å»ºçš„åŠ å¯†é’±åŒ…ï¼Œå…è®¸æ‚¨ä¸ä»¥å¤ªåŠå’Œä»¥å¤ªåŠå…¼å®¹çš„åŒºå—é“¾ä»¥åŠåŸºäºå®ƒä»¬æ„å»ºçš„ dApps è¿›è¡Œäº¤äº’ã€‚

{% hint style="warning" %}åœ¨æ­¥éª¤ 6 ä¸­éƒ¨ç½²æ™ºèƒ½åˆçº¦éœ€è¦ä½¿ç”¨ **PRIVATE_KEY** ç¯å¢ƒå˜é‡ã€‚å°½ç®¡`.env.local`æ–‡ä»¶å·²ç»æ”¾åœ¨äº†`.gitignore`ä¸­ï¼Œè¿™æ ·ä½ å°±ä¸ä¼šæš´éœ²ä½ çš„ç§é’¥ï¼Œæˆ‘ä»¬ä»ç„¶å»ºè®®ä½ åˆ›å»ºä¸€ä¸ªé’±åŒ…ï¼Œä¸“é—¨ç”¨äºæ•™ç¨‹å’Œæœ¬åœ°å¼€å‘ã€‚è¿™æ ·ï¼Œå¦‚æœæ‚¨çš„é’±åŒ…ä¸­åŒ…å«ä»»ä½•å…·æœ‰è´§å¸ä»·å€¼çš„ mainnet ä»¤ç‰Œï¼Œæ‚¨å°±å¯ä»¥é™ä½æš´éœ²å…¶ç§é’¥çš„é£é™©ã€‚{% endhint %}

æœ€åï¼Œæˆ‘ä»¬å¸Œæœ›æ·»åŠ æŸäº›åº“ï¼Œå®ƒä»¬å°†ä¸ºæˆ‘ä»¬åœ¨æ­¥éª¤ 6 ä¸­çš„æ™ºèƒ½å¥‘çº¦å¼€å‘åšå¥½å‡†å¤‡ï¼Œä½†æ˜¯å¦‚æœæ²¡æœ‰å®ƒä»¬ï¼Œæˆ‘ä»¬å°†ä¼šå¾—åˆ°ä¸€äº›ç¼–è¯‘é”™è¯¯ã€‚

```
$ yarn web3:compile 
```

æœ‰äº†è¿™äº›ï¼Œæˆ‘ä»¬çš„ dApp æ¨¡æ¿å°±å¯ä»¥æ„å»ºæˆä¸€ä¸ªåŠŸèƒ½æ€§çš„åšå®¢äº†ã€‚æ‚¨å¯ä»¥è¿è¡Œæœ¬åœ°æœåŠ¡å™¨æ¥å¼€å§‹â€”â€”ä¸€æ—¦å®ƒå¯åŠ¨å¹¶è¿è¡Œï¼Œå°±å¯ä»¥é€šè¿‡è®¿é—® [http://localhost:3000](http://localhost:3000) åœ¨æ‚¨çš„ web æµè§ˆå™¨ä¸­æŸ¥çœ‹ã€‚

```
$ yarn dev 
```

# æŸ¥çœ‹æ¨¡æ¿ <g-emoji class="g-emoji" alias="monocle_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f9d0.png">ğŸ§</g-emoji>

åœ¨æ·±å…¥ç ”ç©¶ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬åº”è¯¥äº†è§£æ¨¡æ¿é™„å¸¦äº†ä»€ä¹ˆã€‚é™¤äº†å¤§å¤šæ•° NextJS åº”ç”¨ç¨‹åºä¸­çš„æ ‡å‡†æ–‡ä»¶å¤¹ç»“æ„å’Œä¾èµ–å…³ç³»ï¼Œæˆ‘ä»¬è¿˜æ·»åŠ äº†ä¸¤ä¸ªç‰¹å®šäº Web 3 çš„åº“ï¼Œæˆ‘ä»¬å°†åœ¨æ•´ä¸ªæ•™ç¨‹ä¸­ä½¿ç”¨å®ƒä»¬- [ethers.js](https://docs.ethers.io/) å’Œ [Hardhat](https://hardhat.org/) ã€‚

Ethers æ˜¯ä¸€ä¸ª JavaScript åº“ï¼Œç”¨äºä¸ä»¥å¤ªåŠå’Œå…¼å®¹ä»¥å¤ªåŠçš„åŒºå—é“¾äº¤äº’ã€‚æˆ‘ä»¬å°†åœ¨æ­¥éª¤ 2 ä¸­é¦–å…ˆé‡åˆ° ethersï¼Œä¸ MetaMask æ¥å£å¹¶è¿æ¥æˆ‘ä»¬çš„é’±åŒ…ã€‚

Hardhat æ˜¯ä»¥å¤ªåŠå’Œå…¼å®¹ä»¥å¤ªåŠçš„åŒºå—é“¾çš„å¼€å‘ç¯å¢ƒã€‚å®ƒå…è®¸ä½ åœ¨æœ¬åœ°ç¼–å†™å’Œç¼–è¯‘ Solidityï¼Œè¿è¡Œæµ‹è¯•å’Œéƒ¨ç½²æ™ºèƒ½å¥‘çº¦ï¼ŒåŒæ—¶å®Œå…¨æ”¯æŒ Typescriptã€‚æˆ‘ä»¬å°†åœ¨æ­¥éª¤ 6 ä¸­åˆ©ç”¨ Hardhat æ¥ç®¡ç†æ™ºèƒ½åˆçº¦çš„å¼€å‘ï¼Œè¯¥åˆçº¦ç”¨äºåˆ›å»ºå’Œä¼ è¾“ä¸åšå®¢æ¡ç›®ç›¸å…³çš„ NFTã€‚

æ‚¨å¯ä»¥è‡ªè¡Œæ¢ç´¢æ¨¡æ¿çš„å…¶ä½™éƒ¨åˆ†ã€‚å®ƒåŒ…æ‹¬æ ‡å‡†çš„æŒ‚é’©å’Œç»„ä»¶ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨å®ƒä»¬æ¥ä¸ºæˆ‘ä»¬çš„åšå®¢æ·»åŠ åŠŸèƒ½ã€‚ä½†æ˜¯ç°åœ¨å·²ç»è¶³å¤Ÿäº†ã€‚

æˆ‘ä»¬æ¥å»ºå§ï¼

[![â€œI can feel the anticipation.â€](../Images/6590df85d91003999c0d073b54697f5a.png)T2ã€‘](https://raw.githubusercontent.com/figment-networks/learn-tutorials/master/mirror/assets/lego.jpeg)

{% label %}â€œæˆ‘èƒ½æ„Ÿå—åˆ°æœŸå¾…ã€‚â€