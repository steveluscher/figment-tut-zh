# èµ·æº

> åŸæ–‡ï¼š<https://github.com/figment-networks/learn-tutorials/blob/master/tezos/token-contracts.md>

[åŸæ–‡æ•™ç¨‹å¯ä»¥åœ¨è¿™é‡Œçš„ Tezos æ–‡æ¡£ä¸­æ‰¾åˆ°](https://assets.tqtezos.com/docs/token-contracts/fa2/1-fa2-smartpy/)ã€‚

## ä½¿ç”¨ FA2-èªæ˜

æœ¬æ•™ç¨‹å±•ç¤ºäº†å¦‚ä½•åœ¨ä¸€äº›å¸¸è§çš„ç”¨ä¾‹ä¸Šä¸ FA2 æ ‡å‡†çš„â€œFA2-æ™ºèƒ½â€å®ç°è¿›è¡Œäº¤äº’ã€‚ç¬¬ä¸€éƒ¨åˆ†ä½¿ç”¨`tezos-client`å‘½ä»¤æ¥æ“ä½œåŸºæœ¬çš„ä¼ è¾“å’ŒæŸ¥è¯¢ã€‚ç¬¬äºŒéƒ¨åˆ†æ›´è¿›ä¸€æ­¥:å®ƒä½¿ç”¨`fatoo`å‘½ä»¤è¡Œæ¥å£è¿›è¡Œæ‰¹é‡ä¼ è¾“ï¼Œå¹¶ä½¿ç”¨â€œoperatorâ€æœºåˆ¶æ¥å§”æ‰˜ä¼ è¾“æƒé™ã€‚

## tezos å®¢æˆ·ç«¯çš„åŸºæœ¬ç”¨æ³•

è¿™é‡Œå‡è®¾ä½ å·²ç»`tezos-client`æ­£ç¡®è®¾ç½®äº†ä¸è¿¦å¤ªåŸºæˆ–â€œå®Œæ•´çš„â€[æ²™ç›’](https://assets.tqtezos.com/docs/setup/2-sandbox)(å³ä¸é¢åŒ…å¸ˆ)çš„å¯¹è¯ã€‚

è¯¥éƒ¨åˆ†éœ€è¦ 4 ä¸ªè´¦æˆ·ï¼Œå¹¶åœ¨`tezos-client`ä¸­å¯¼å…¥å°‘é‡êœ©ï¼Œåˆ†åˆ«ä¸º`administrator`ã€`originator`ã€`alice`å’Œ`bob`ã€‚

åœ¨æ²™ç›’æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†`alice`ä¹Ÿç”¨ä½œ`originator`å’Œ`administrator`:

```js
tezos-client import secret key alice \
unencrypted:edsk3QoqBuvdamxouPhin7swCvkQNgq4jP5KZPbwWNnwdZpSpJiEbq \
--force

tezos-client import secret key originator \
unencrypted:edsk3QoqBuvdamxouPhin7swCvkQNgq4jP5KZPbwWNnwdZpSpJiEbq \
--force

tezos-client import secret key administrator \
unencrypted:edsk3QoqBuvdamxouPhin7swCvkQNgq4jP5KZPbwWNnwdZpSpJiEbq \
--force

tezos-client import secret key bob \
unencrypted:edsk3RFfvaFaxbHx8BMtEW1rKQcPtDML3LXjNqMNLCzC3wLC1bWbAt \
--force 
```

## å¾—åˆ°è¿ˆå…‹å°”é€Šå¯†ç 

FA2â€”â€”SmartPy ä½¿ç”¨ SmartPy çš„å…ƒç¼–ç¨‹å·¥å…·æ¥æä¾›å¤šä¸ªè¿ˆå…‹å°”é€ŠåˆåŒï¼Œä¹Ÿç§°ä¸ºâ€œæ„å»ºâ€ã€‚ä¸€äº›æ„å»ºå¯ä»¥åœ¨[https://git lab . com/smondet/fa2-smartpy/-/tree/master/Michelson](https://gitlab.com/smondet/fa2-smartpy/-/tree/master/michelson)è·å¾—ï¼Œå‚è§ä¸‹é¢çš„[äº†è§£å„ç§æ„å»ºçš„æè¿°ã€‚](https://assets.tqtezos.com/docs/token-contracts/fa2/1-fa2-smartpy/#originate)

è®©æˆ‘ä»¬ä¸‹è½½â€œé»˜è®¤â€çš„:

```js
wget -O fa2_default.tz \
'https://gitlab.com/smondet/fa2-smartpy/-/raw/4acac092/michelson/20200910-203659+0000_5060996_contract.tz' 
```

å‘èµ·å·¥ä½œä¸ä»»ä½•åˆåŒä¸€æ ·ï¼Œæˆ‘ä»¬éœ€è¦ä¸Šè¿°ä»£ç ã€ä¸€äº›êœ©å’Œä¸€ä¸ªè¿ˆå…‹å°”é€Šè¡¨è¾¾å¼æ¥åˆå§‹åŒ–å­˜å‚¨ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œåº”è¯¥æ˜¯è¿™æ ·çš„:

```js
(Pair
   (Pair "<admin-pkh>" (Pair <nb-of-tokens> <ledger-big-map>))
   (Pair (Pair Unit <operators-big-set>)
         (Pair <paused> <tokens-big-map>))) 
```

é¢„è®¡`<nb-of-tokens>`æ˜¯`<tokens-big-map>`åœ°å›¾çš„åŸºæ•°ï¼Œå¹¶ä¸”åœ¨`<ledger-big-map>`å¤§åœ°å›¾ä¸­åªä½¿ç”¨â€œå·²çŸ¥çš„â€æ ‡è®°ã€‚ä¸ºäº†æ­£ç¡®ç»´æŠ¤æ‰€æœ‰çš„ä¸å˜é‡ï¼Œå»ºè®®å°†å­˜å‚¨ç©ºé—´åˆå§‹åŒ–ä¸ºç©ºï¼Œå¹¶ä½¿ç”¨`%mint`å…¥å£ç‚¹æ¥å¡«å……å¥‘çº¦ã€‚

è®©æˆ‘ä»¬åœ¨è®¾ç½®`administrator`åœ°å€çš„åŒæ—¶å‘èµ·è¿™æ ·ä¸€ä¸ªæœªæŒ‚èµ·çš„ç©ºåˆåŒ:

```js
tezos-client originate contract myfa2 \
transferring 0 from originator \
running fa2_default.tz \
--init '(Pair (Pair "tz1VSUr8wwNhLAzempoch5d6hLRiTh8Cjcjb" (Pair 0 {})) (Pair (Pair Unit {}) (Pair False {})))' \
--burn-cap 10 \
--force --no-print-source 
```

äº§å‡º:

```js
 Node is bootstrapped.
 Estimated gas: 135041 units (will add 100 for safety)
 Estimated storage: 4620 bytes added (will add 20 for safety)
 Operation successfully injected in the node.
 Operation hash is 'opa4ZVgJGkXzeRypcnqso1CF8LrgVEYq4R2QwGkFT2kzw2L9Tqp'
 Waiting for the operation to be included...
 Operation found in block: BM2FVXcXeYxBaDPkt1X2etZrnkJTG19pazm6wd5FVCrxGm6tS2o (pass: 3, offset: 0)

 ...

           tz1VSUr8wwNhLAzempoch5d6hLRiTh8Cjcjb ... -êœ©0.257
 New contract KT1FQrHRqqqZ23Md9Ec5KJ3WK66fNxi9izZJ originated.
 The operation has only been included 0 blocks ago.
 We recommend to wait more.
 Use command
   tezos-client wait for opa4ZVgJGkXzeRypcnqso1CF8LrgVEYq4R2QwGkFT2kzw2L9Tqp to be included --confirmations 30 --branch BLKYS2BuTtAp6Qb6Uu5K4JPNvGhJecHmqrtiNNQWb29fsf4JbhS
 and/or an external block explorer.
 Contract memorized as myfa2. 
```

# é“¸é€ 

åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬è¦å°†å‰ä¸€èŠ‚ä¸­è®¾ç½®çš„`administrator`è½¬æ¢ä¸ºâ€œasâ€ã€‚

FA2 è§„èŒƒä¸­æ²¡æœ‰å¯¹é“¸é€ å…¥å£ç‚¹è¿›è¡Œæ ‡å‡†åŒ–ï¼Œå¯¹äº fa2-smartpyï¼Œå®ƒåº”è¯¥æ˜¯è¿™æ ·çš„:

```js
(Pair (Pair "<address>" <amount>) (Pair "<token-symbol>" <token-id>)) 
```

é»˜è®¤æ„å»ºå‡è®¾ token-id æ˜¯è¿ç»­çš„è‡ªç„¶æ•°(0ï¼Œ1ï¼Œ2ï¼Œâ€¦)ï¼Œå¦‚æœç”±äºæŸäº›ç‰¹å®šçš„çº¦æŸï¼Œç”¨æˆ·éœ€è¦ä»»æ„çš„ token-idï¼Œé‚£ä¹ˆåœ¨ FA2-SmartPy ä¸­æœ‰ä¸€ä¸ªæ„å»ºé€‰é¡¹æ¥ç”Ÿæˆè¿™æ ·çš„å¥‘çº¦(å‚è§[æ–‡æ¡£](https://gitlab.com/smondet/fa2-smartpy/))ã€‚

ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬ï¼Œä½œä¸º`administrator`ï¼Œé“¸é€  100 `TK0`ä»£å¸ç»™`alice`:

```js
 tezos-client transfer 0 from administrator to myfa2 \
--entrypoint mint \
--arg '(Pair (Pair "tz1VSUr8wwNhLAzempoch5d6hLRiTh8Cjcjb" 100) (Pair "TK0" 0))' \
--burn-cap 3 
```

äº§å‡º:

```js
 Node is bootstrapped.
 Estimated gas: 117731 units (will add 100 for safety)
 Estimated storage: 163 bytes added (will add 20 for safety)
 Operation successfully injected in the node.
 Operation hash is 'ooL9T4cK1RyYz4HxjfyixPW3n5iJf2hX6G47iQToa7sDTb6fjHr'
 Waiting for the operation to be included...
 Operation found in block: BMGWJeRyTtUL2Pi9xgAi3MU7kkgMCr4pUeYALaVhQAi4uJS37ae (pass: 3, offset: 0)

 ...

       Consumed gas: 117731
       Balance updates:
         tz1VSUr8wwNhLAzempoch5d6hLRiTh8Cjcjb ... -êœ©0.163
 The operation has only been included 0 blocks ago.
 We recommend to wait more.
 Use command
   tezos-client wait for ooL9T4cK1RyYz4HxjfyixPW3n5iJf2hX6G47iQToa7sDTb6fjHr to be included --confirmations 30 --branch BM2FVXcXeYxBaDPkt1X2etZrnkJTG19pazm6wd5FVCrxGm6tS2o
 and/or an external block explorer. 
```

# è½¬ç§»

FA2 çš„è½¬è´¦å…¥å£ç‚¹åœ¨ä¸¤ä¸ªçº§åˆ«ä¸Šè¿›è¡Œâ€œæ‰¹å¤„ç†â€,å³ä¸€ä¸ªåˆåŒè°ƒç”¨åŒ…å«ä¸€ä¸ªè½¬è´¦å…ƒç´ åˆ—è¡¨ï¼Œæ¯ä¸ªè½¬è´¦å…ƒç´ æ˜¯ä¸€ä¸ªâ€œå‘ä»¶äººåœ°å€â€å’Œä¸€ä¸ªä¼ å‡ºäº¤æ˜“åˆ—è¡¨:

```js
{
  Pair "<from-1>" {Pair "<to-1>" (Pair <token-id-1> <amount-1>)} ;
  Pair "<from-2>" {Pair "<to-2>" (Pair <token-id-2> <amount-2>) ; Pair "<to-3>" (Pair <token-id-3> <amount-3>)} ;
  ...
} 
```

åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½œä¸º`alice`ï¼Œå°† 100 TK0 ä¸­çš„ 5 ä¸ªè½¬è®©ç»™`bob`:

```js
tezos-client transfer 0 from alice to myfa2 \
                --entrypoint transfer \
                --arg '{ Pair "tz1VSUr8wwNhLAzempoch5d6hLRiTh8Cjcjb" {Pair "tz1aSkwEot3L2kmUvcoxzjMomb9mvBNuzFK6" (Pair 0 5)} }' \
                --burn-cap 3 
```

äº§å‡º:

```js
 Node is bootstrapped.
 Estimated gas: 119800 units (will add 100 for safety)
 Estimated storage: 67 bytes added (will add 20 for safety)
 Operation successfully injected in the node.
 Operation hash is 'opU6fKDzso3fE3x61GCPGbgu5Bqg6wrXm9w1wxM3MeyVkc242gQ'
 Waiting for the operation to be included...
 Operation found in block: BM2yNL1kjRJvrSeuzX2P6iid4f5Fx7JBjn2K2MYYsYTF3eFcVQ4 (pass: 3, offset: 0)
 This sequence of operations was run:

 ...

       Consumed gas: 119800
       Balance updates:
         tz1VSUr8wwNhLAzempoch5d6hLRiTh8Cjcjb ... -êœ©0.067
 The operation has only been included 0 blocks ago.
 We recommend to wait more.
 Use command
   tezos-client wait for opU6fKDzso3fE3x61GCPGbgu5Bqg6wrXm9w1wxM3MeyVkc242gQ to be included --confirmations 30 --branch BMGWJeRyTtUL2Pi9xgAi3MU7kkgMCr4pUeYALaVhQAi4uJS37ae
 and/or an external block explorer. 
```

## è·å¾—é“¾å¤–å¹³è¡¡

ä½œä¸ºä½¿ç”¨è¿ˆå…‹å°”é€Šå’Œ`tezos-client`ä¸å¥‘çº¦å­˜å‚¨ä¸­çš„å¤§åœ°å›¾äº¤äº’çš„ç¤ºä¾‹ï¼Œè¿™é‡Œæˆ‘ä»¬è·å¾—äº†`alice`çš„ TK0 ä»¤ç‰Œä½™é¢ã€‚

æˆ‘ä»¬éœ€è¦ä¸€ä¸ªè„šæœ¬ï¼Œå®ƒå°†å¥‘çº¦çš„å­˜å‚¨ç±»å‹ä½œä¸ºå‚æ•°(å­—é¢æ„æ€æ˜¯å¤åˆ¶ç²˜è´´)ï¼Œå¹¶ä½¿ç”¨ Michelson æå–`%ledger`å¤§å›¾ä¸­çš„å€¼ï¼›åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªæ˜¯ç”¨`FAILWITH`æŒ‡ä»¤æ˜¾ç¤ºå®ƒï¼Œä½†æ˜¯å¯ä»¥åšå¾—æ›´å¤šï¼ŒåŒ…æ‹¬æ”¾å…¥å­˜å‚¨(ç•™ç»™è¯»è€… <g-emoji class="g-emoji" alias="relaxed" fallback-src="https://github.githubassets.cimg/icons/emoji/unicode/263a.png">â˜º</g-emoji> ç»ƒä¹ )ã€‚å§‘ä¸”å­˜ä¸º`get-balance.tz`:

```js
parameter
    (pair (pair (address %administrator)
                (pair (nat %all_tokens) (big_map %ledger (pair address nat) nat)))
          (pair (pair (unit %version_20200910_tzip_93e5415e_contract)
                      (big_map %operators
                         (pair (address %owner) (pair (address %operator) (nat %token_id)))
                         unit))
                (pair (bool %paused)
                      (big_map %tokens
                         nat
                         (pair (nat %token_id)
                               (pair (string %symbol)
                                     (pair (string %name) (pair (nat %decimals) (map %extras string string))))))))) ;
storage unit;
code
 {
    CAR ; # Get parameter
    CAR ; # Get the pair (admin , _)
    CDR ; # Get the pair (all_token, ledger)
    CDR ; # Get %ledger
    PUSH (pair address nat) (Pair "tz1VSUr8wwNhLAzempoch5d6hLRiTh8Cjcjb" 0);
    GET ; # Get the value in the ledger at the above key
    FAILWITH
 }; 
```

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬é¢„è®¡`tezos-client`å‘½ä»¤ä¼šå¤±è´¥ï¼Œå› ä¸ºæˆ‘ä»¬æƒ³è¦è¯»å–é”™è¯¯æ¶ˆæ¯:

```js
tezos-client run script get-balance.tz on storage Unit \
and input \
"$(tezos-client get contract storage for myfa2)" 
```

äº§å‡º:

```js
 ...

   22:     GET ; # Get the value in the ledger at the above key
   23:     FAILWITH
   24:  };
 At line 23 characters 4 to 12,
 script reached FAILWITH instruction
 with (Some 95)
 Fatal error:
   error running script 
```

æˆ‘ä»¬åœ¨é”™è¯¯å€¼(ä¼ é€’ç»™`FAILWITH`)ä¸­å¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°`alice`çš„ä½™é¢æ˜¯ 95 TK0 (100 é“¸å¸*å‡å»* 5 è½¬ç»™`bob`)ã€‚

# `fatoo`åº”ç”¨

## è·å–å¹¶è®¾ç½®å®¢æˆ·ç«¯

åœ¨è¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨`fatoo`å‘½ä»¤è¡Œç•Œé¢æ¥æ„å»º FA2-SmartPy çš„ã€‚æ‚¨éœ€è¦åœ¨æ‚¨çš„`$PATH`ä¸­å®‰è£…`fatoo`ï¼Œæˆ–è€…æ‚¨å¯ä»¥ä½¿ç”¨ Docker:

```js
 fatoo --version
# or:
docker run -it --rm --entrypoint fatoo registry.gitlab.com/smondet/fa2-smartpy:4acac092-run --version
```

`fatoo`åº”ç”¨ç¨‹åºæœ‰è®¸å¤šå‘½ä»¤ï¼Œå‚è§`fatoo [subcommand] --help`ã€‚åŒæ—¶ï¼Œå®ƒè¿˜åœ¨è¿›è¡Œä¸­ï¼Œæ‰€ä»¥å¯ä»¥åœ¨ä¸»[åº“](https://gitlab.com/smondet/fa2-smartpy/)ä¸­æäº¤é—®é¢˜å’Œç‰¹æ€§è¯·æ±‚ã€‚

ä¸¤ä¸ªç¯å¢ƒå˜é‡å¯ç”¨äºé…ç½®

*   `fatoo_root_path`:æ—¥å¿—ï¼Œè¾“å‡º
*   `fatoo_client`:æ›´é‡è¦çš„ä¸€ä¸ªï¼Œæ˜¯æè¿°å¦‚ä½•é…ç½®`tezos-client`å’Œä¸èŠ‚ç‚¹å¯¹è¯çš„ URI:

å‚è§å‘½ä»¤`fatoo show-client-uri-documentation`:

> URI éµå¾ªé€šå¸¸çš„æ¨¡å¼:
> 
> *   `<scheme>`å¯ä»¥æ˜¯`http`æˆ–`http` ( `--tls`é€‰é¡¹)ï¼›
> *   `<host>:<port>`å®šä¹‰äº†è¿æ¥åˆ°çš„èŠ‚ç‚¹ï¼›
> *   `<path>`æ˜¯â€œå‡ºèµ„äººâ€è´¦æˆ·çš„ç§é’¥(URI ),ç”¨äºæ”¯ä»˜å¤©ç„¶æ°”å’Œä»“å‚¨è´¹ç”¨ã€‚
> 
> å¯ç”¨çš„`<options>`æœ‰:
> 
> *   `bake=true`:ä½¿ç”¨`funder`è´¦å·åœ¨æ³¨å…¥æ“ä½œåä¹Ÿçƒ˜ç„™å—(å¯¹äºâ€œæ‰‹åŠ¨â€æ²™ç®±æœ‰ç”¨)ï¼›
> *   `wait=<INT>`:è®¾ç½®`tezos-client`çš„`--wait`é€‰é¡¹(ä¸€æ¬¡æ“ä½œæ³¨å…¥åç­‰å¾…å¤šå°‘å—)ï¼›
> *   `command=<STRING>`:ä½¿ç”¨`tezos-client`çš„æ›¿ä»£å‘½ä»¤ã€‚
> 
> ä¾‹å¦‚ï¼Œè¯·å‚è§å½“å‰é»˜è®¤å€¼:`http://:2020/unencrypted:edsk3S7mCwuuMVS21jsYTczxBU4tgTbQp98J3YmTGcstuUxsrZxKYd?bake=true`ã€‚

å‡è®¾æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨[æ²™ç®±](https://assets.tqtezos.com/docs/setup/2-sandbox)è®¾ç½®ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`alice`çš„ç§é’¥é…ç½®å®¢æˆ·ç«¯ï¼Œå¦‚ä¸‹æ‰€ç¤º:

```js
export fatoo_client='http://:20000/unencrypted:edsk3QoqBuvdamxouPhin7swCvkQNgq4jP5KZPbwWNnwdZpSpJiEbq?wait=0'

# Or, for docker, use:

alias fatoo='docker run -it -u "$UID" --network host -v "$PWD:/work" -w /work --rm -e fatoo_client="http://:20000/unencrypted:edsk3QoqBuvdamxouPhin7swCvkQNgq4jP5KZPbwWNnwdZpSpJiEbq?wait=0" --entrypoint fatoo registry.gitlab.com/smondet/fa2-smartpy:4acac092-run'
```

è¯¥åº”ç”¨ç¨‹åºæœ‰ä¸€ä¸ª`client`å­å‘½ä»¤ï¼Œå®ƒåªæ˜¯æ­£ç¡®åœ°è°ƒç”¨`tezos-client`,å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤æµ‹è¯•å®ƒä»¬çš„è®¾ç½®:

```js
fatoo client bootstrapped 
```

äº§å‡º:

```js
 Node is bootstrapped. 
```

# è®¾ç½®å¸æˆ·

åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä»åŠ©è®°ç¬¦ç§å­åˆ›å»ºäº†å››ä¸ªå¯†é’¥å¯¹ï¼Œå°†åœ¨ä»¥ä¸‹éƒ¨åˆ†ä¸­ä½¿ç”¨:

```js
fatoo account-of-seed \
      "the-only-administrator-of-the-contract" \
      --output admin.csv
fatoo account-of-seed \
      "the-0th-aka-first-owner" \
      --output owner0.csv
fatoo account-of-seed \
      "ready-owner-one" \
      --output owner1.csv
fatoo account-of-seed \
      "this-is-a-potential-token-owner-too" \
      --output owner2.csv 
```

ç”Ÿæˆçš„ CSV ä¸ [flextesa](https://tezos.gitlab.io/flextesa/) çš„æ ¼å¼ç›¸åŒï¼Œå®ƒä»¬åŒ…å«:`<phrase>,<pk>,<pkh>,<sk>`ä¾‹å¦‚:

```js
echo "Public key hash: $(cut -d, -f 3 admin.csv)"
echo "Secret key: $(cut -d, -f 4 admin.csv)" 
```

äº§å‡º:

```js
Public key hash: tz1ZnxqPNMXyiZLTANYJLJ9ZTBpQ5Qu16BXe
Secret key: unencrypted:edsk3ZAm4BwNkG2uUmCcA64BadPWuwNt16zZisnfcQEuvyStaBa6oG 
```

è®©æˆ‘ä»¬ä¸ºæ‰€æœ‰è¿™äº›å‘½å:

```js
export admin_pkh="$(cut -d, -f 3 admin.csv)"
export admin_sk="$(cut -d, -f 4 admin.csv)"
export owner0_pkh="$(cut -d, -f 3 owner0.csv)"
export owner0_sk="$(cut -d, -f 4 owner0.csv)"
export owner1_pkh="$(cut -d, -f 3 owner1.csv)"
export owner1_sk="$(cut -d, -f 4 owner1.csv)"
export owner2_pkh="$(cut -d, -f 3 owner2.csv)"
export owner2_sk="$(cut -d, -f 4 owner2.csv)"
```

# å¼•èµ·

è¯¥åº”ç”¨ç¨‹åºåŒ…å«ä¸€äº›å¥‘çº¦å˜ä½“çš„ä»£ç :

```js
fatoo list-contract-variants --details description --format markdown 
```

äº§å‡º:

```js
* `contract`: The default.
* `dbg_contract`: The default in debug mode.
* `baby_contract`: The default in Babylon mode.
* `nolay_contract`: The default without right-combs.
* `mutran_contract`: The default with mutez transfer entry-point.
* `tokset_contract`: The default with non-consecutive token-IDs.
* `perdesc_noops_contract`: The default without operators and with permissions-descriptor.
* `perdesc_noops_dbg_contract`: The perdesc_noops_contract but in debug mode.
* `single_contract`: The default for single-asset.
* `single_mutran_contract`: The single-asset with mutez transfer entry-point.
* `nft_mutran_contract`: The default in NFT mode with mutez transfer entry-point.
* `lzep_contract`: The default with lazy-entry-points flag.
* `lzepm_contract`: The default with lazy-entry-points-multiple flag.
* `lzep_mutran_contract`: The default with mutez-transfer and lazy-entry-points flag.
* `lzepm_mutran_contract`: The default with mutez-transfer and lazy-entry-points-multiple flag. 
```

äººä»¬å¯ä»¥å°†è¿ˆå…‹å°”é€Šä»£ç è½¬å‚¨åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­(è§`fatoo get-code --help`)ï¼Œä½†æ˜¯æ²¡æœ‰å¿…è¦ï¼Œå› ä¸ºäººä»¬å¯ä»¥ç›´æ¥ä»åº”ç”¨ç¨‹åºä¸­åˆ›å»ºåˆåŒã€‚è®©æˆ‘ä»¬ä»`mutran_contract`å¼€å§‹ï¼Œè¿™æ˜¯ä¸€ä¸ªå®Œå…¨æˆç†Ÿçš„ FA2 å®ç°ï¼Œå®ƒæœ‰ä¸€ä¸ªé¢å¤–çš„å…¥å£ç‚¹ï¼Œå…è®¸ç®¡ç†å‘˜è½¬ç§»èµ„é‡‘ï¼Œè¿™äº›èµ„é‡‘å¯èƒ½æœ€ç»ˆä¼šå‡ºç°åœ¨åˆåŒä½™é¢ä¸­ã€‚

```js
 fatoo originate mutran_contract \
         --administrator "${admin_pkh}" \
         --output-address kt1_mutran_contract.txt

â€– [FA2->Info]:
â€– Originations:
â€–     * Success: mutran_contract (The default with mutez transfer entry-point)
â€–       -> KT1Qmqtc6pYnivEkR1Pedt684XSH4RjmoU6w
```

è¯¥å‘½ä»¤å·²å°†çº¦å®šåœ°å€ä¿å­˜åœ¨æ–‡ä»¶ä¸­:

```js
 cat kt1_mutran_contract.txt
â”ƒ KT1Qmqtc6pYnivEkR1Pedt684XSH4RjmoU6w
```

æˆ‘ä»¬å·²ç»å¯ä»¥æ˜¾ç¤ºåˆåŒçš„çŠ¶æ€(å­˜å‚¨):

```js
 fatoo show-storage "$(cat kt1_mutran_contract.txt)"
â€– [FA2->Info]:
â€–   Contract: KT1Qmqtc6pYnivEkR1Pedt684XSH4RjmoU6w
â€–     Balance: 0 mutez
â€– Administrator: "tz1ZnxqPNMXyiZLTANYJLJ9ZTBpQ5Qu16BXe"
â€–     Status: Ready
â€–     Tokens-big-map: 26
â€–     Ledger-big-map: 24
â€–     Operators-big-map: 25
â€–     All-Tokens: None
â€–     Known-Owners-and-Operators: None
```

#### é“¸å¸å’Œå¤šè½¬ç§»

ä¸ºäº†é“¸é€ ä»¤ç‰Œï¼Œç®¡ç†å‘˜éœ€è¦èƒ½å¤Ÿè°ƒç”¨é“¾ä¸Šçš„åˆåŒï¼Œä¸ºæ­¤æˆ‘ä»¬éœ€è¦è½¬ç§»è‡³å°‘å‡ ä¸ªÎ¼êœ©åˆ°è¯¥åœ°å€ã€‚å¯ä»¥ä½¿ç”¨`tezos-client`ï¼Œä½†`fatoo`æœ‰å¿«æ·å‘½ä»¤ä»é…ç½®çš„â€œèµ„é‡‘â€è´¦æˆ·è½¬è´¦(é‡‘é¢ä»¥`mutez`ä¸ºå•ä½):

```js
 fatoo fund-address \
         "${admin_pkh}" \
         10_000_000
â€– [FA2->Info]: Balance for tz1ZnxqPNMXyiZLTANYJLJ9ZTBpQ5Qu16BXe is now
â€–   4058182245 mutez.
```

è¯·æ³¨æ„ï¼Œç›®å‰`owner0`åœ¨ chain ä¸Šä¸å­˜åœ¨ï¼Œæˆ‘ä»¬ä»åœ¨ä¸ºå®ƒä»¬é“¸é€ ä»¤ç‰Œ:

```js
 fatoo call-mint --token-id 0 --token-symbol TQ0 \
         "${owner0_pkh}" 1_000_000 \
         --source "${admin_sk}" \
         --address "$(cat kt1_mutran_contract.txt)"
â”ƒ (Pair (Pair "tz1MUP3sCWTUQRG2Hon7uhRfmuYZ4guEQntS" 1000000) (Pair "TQ0" 0))
```

è®©æˆ‘ä»¬æ·»åŠ å¦ä¸€ä¸ªä»¤ç‰Œ`TQ1`ä»ç„¶é“¸é€ ä¸€äº›ç»™`owner0`:

```js
 fatoo call-mint --token-id 1 --token-symbol TQ1 \
         "${owner0_pkh}" 2_000 \
         --source "${admin_sk}" \
         --address "$(cat kt1_mutran_contract.txt)"
â”ƒ (Pair (Pair "tz1MUP3sCWTUQRG2Hon7uhRfmuYZ4guEQntS" 2000) (Pair "TQ1" 1))
```

æˆ‘ä»¬æ¥çœ‹çœ‹å‚¨ç‰©ï¼›æˆ‘ä»¬çœ‹åˆ°æ–°çš„ä»¤ç‰Œ`TQ0`å’Œ`TQ1`ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨å‘½ä»¤è¡Œä¸Šæä¾›äº†ä¸€ä¸ªâ€œå·²çŸ¥çš„ä»¤ç‰Œæ‰€æœ‰è€…â€ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒä»¬çš„ä½™é¢:

```js
 fatoo show-storage "$(cat kt1_mutran_contract.txt)" \
         --known-address "$(cut -d, -f 3 owner0.csv)"
â€– [FA2->Info]:
â€–   Contract: KT1Qmqtc6pYnivEkR1Pedt684XSH4RjmoU6w
â€–     Balance: 0 mutez
â€– Administrator: "tz1ZnxqPNMXyiZLTANYJLJ9ZTBpQ5Qu16BXe"
â€–     Status: Ready
â€–     Tokens-big-map: 26
â€–     Ledger-big-map: 24
â€–     Operators-big-map: 25
â€–     All-Tokens: 0 = TQ0.
â€–                 1 = TQ1.
â€–     Known-Owners-and-Operators:
â€–       * Owner: "tz1MUP3sCWTUQRG2Hon7uhRfmuYZ4guEQntS" [0 ops]
â€–         - Balance: 1000000 TQ0(0)
â€–         - Balance: 2000 TQ1(1)
```

ç°åœ¨è®©æˆ‘ä»¬è®©`owner0`åšä¸€ä¸ªæ‰¹é‡è½¬ç§»ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ç»™é‚£ä¸ªåœ°å€åŠ æ²¹:

```js
 fatoo fund-address \
         "${owner0_pkh}" \
         1_000_000
â€– [FA2->Info]: Balance for tz1MUP3sCWTUQRG2Hon7uhRfmuYZ4guEQntS is now 4335411
â€–   mutez.
```

ç„¶åï¼Œç”±äºä»¤ç‰Œæ‹¥æœ‰è€…å¯ä»¥è¿›è¡Œè‡ªæˆ‘è½¬ç§»ï¼Œæˆ‘ä»¬ä½¿ç”¨`owner1`çš„å¯†é’¥å°† TQ0s å’Œ TQ1s è½¬ç§»åˆ°`owner1`å’Œ`owner2`:

```js
 fatoo call-transfer \
         "from:${owner0_pkh} to:${owner1_pkh} amount: 10 token: 0" \
         "from:${owner0_pkh} to:${owner1_pkh} amount: 100 token: 1" \
         "from:${owner0_pkh} to:${owner2_pkh} amount: 10 token: 1" \
         --source "${owner0_sk}" \
         --address "$(cat kt1_mutran_contract.txt)"
â”ƒ { Pair "tz1MUP3sCWTUQRG2Hon7uhRfmuYZ4guEQntS" { Pair "tz1YYrxf529d3EYzEv5TnsiTpRCzFFB87dAS" (Pair 0 10) ; Pair "tz1YYrxf529d3EYzEv5TnsiTpRCzFFB87dAS" (Pair 1 100) ; Pair "tz1TyFYCuKrQ7A3yB4AvpoPRLacb3J6iQB9V" (Pair 1 10)}}
```

ç„¶åæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿç»“æœçŠ¶æ€:

```js
 fatoo show-storage "$(cat kt1_mutran_contract.txt)" \
         --known-address "$(cut -d, -f 3 owner0.csv)" \
         --known-address "$(cut -d, -f 3 owner1.csv)" \
         --known-address "$(cut -d, -f 3 owner2.csv)"
â€– [FA2->Info]:
â€–   Contract: KT1Qmqtc6pYnivEkR1Pedt684XSH4RjmoU6w
â€–     Balance: 0 mutez
â€– Administrator: "tz1ZnxqPNMXyiZLTANYJLJ9ZTBpQ5Qu16BXe"
â€–     Status: Ready
â€–     Tokens-big-map: 26
â€–     Ledger-big-map: 24
â€–     Operators-big-map: 25
â€–     All-Tokens: 0 = TQ0.
â€–                 1 = TQ1.
â€–     Known-Owners-and-Operators:
â€–       * Owner: "tz1MUP3sCWTUQRG2Hon7uhRfmuYZ4guEQntS" [0 ops]
â€–         - Balance: 999990 TQ0(0)
â€–         - Balance: 1890 TQ1(1)
â€–       * Owner: "tz1YYrxf529d3EYzEv5TnsiTpRCzFFB87dAS" [0 ops]
â€–         - Balance: 10 TQ0(0)
â€–         - Balance: 100 TQ1(1)
â€–       * Owner: "tz1TyFYCuKrQ7A3yB4AvpoPRLacb3J6iQB9V" [0 ops]
â€–         - Balance: 10 TQ1(1)
```

## ä½¿ç”¨è¿ç®—ç¬¦

è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª`operator`å¯†é’¥å¯¹:

```js
 fatoo account-of-seed \
         "youve-been-operated-ill-be-back" \
         --output operator.csv
   export operator_pkh="$(cut -d, -f 3 operator.csv)"
   export operator_sk="$(cut -d, -f 4 operator.csv)"
```

æˆ‘ä»¬ç°åœ¨å°†è®©æ‰€æœ‰æ‰€æœ‰è€…å°†æ‰€æœ‰*ä»–ä»¬çš„ä»¤ç‰Œå§”æ‰˜ç»™â€œoperatorâ€ï¼Œå‚è§å‘½ä»¤`fatoo call-update-operators --help`:*

```js
 fatoo call-update-operators \
         "add@ operator: ${operator_pkh} owner: ${owner0_pkh} token: 0" \
         "add@ operator: ${operator_pkh} owner: ${owner0_pkh} token: 1" \
         --source "${owner0_sk}" \
         --address "$(cat kt1_mutran_contract.txt)"
   fatoo fund-address \
         "${owner1_pkh}" \
         1_000_000
   fatoo call-update-operators \
         "add@ operator: ${operator_pkh} owner: ${owner1_pkh} token: 0" \
         "add@ operator: ${operator_pkh} owner: ${owner1_pkh} token: 1" \
         --source "${owner1_sk}" \
         --address "$(cat kt1_mutran_contract.txt)"
   fatoo fund-address \
         "${owner2_pkh}" \
         1_000_000
   fatoo call-update-operators \
         "add@ operator: ${operator_pkh} owner: ${owner2_pkh} token: 0" \
         "add@ operator: ${operator_pkh} owner: ${owner2_pkh} token: 1" \
         --source "${owner2_sk}" \
         --address "$(cat kt1_mutran_contract.txt)"
```

æˆ‘ä»¬çœ‹åˆ°ï¼Œç°åœ¨æ¯ä¸ªå®¢æˆ·éƒ½æœ‰ç›¸åŒçš„æ“ä½œå‘˜:

```js
 fatoo show-storage "$(cat kt1_mutran_contract.txt)" \
         --known-address "$(cut -d, -f 3 owner0.csv)" \
         --known-address "$(cut -d, -f 3 owner1.csv)" \
         --known-address "$(cut -d, -f 3 owner2.csv)" \
         --known-address "$(cut -d, -f 3 operator.csv)"
â€– [FA2->Info]:
â€–   Contract: KT1Qmqtc6pYnivEkR1Pedt684XSH4RjmoU6w
â€–     Balance: 0 mutez
â€– Administrator: "tz1ZnxqPNMXyiZLTANYJLJ9ZTBpQ5Qu16BXe"
â€–     Status: Ready
â€–     Tokens-big-map: 26
â€–     Ledger-big-map: 24
â€–     Operators-big-map: 25
â€–     All-Tokens: 0 = TQ0.
â€–                 1 = TQ1.
â€–     Known-Owners-and-Operators:
â€–       * Owner: "tz1MUP3sCWTUQRG2Hon7uhRfmuYZ4guEQntS"
â€–         - Operator: "tz1NkpWhHsBSZHPg2Ljz2hycRiZvcYdcyu85" -> [0, 1]
â€–         - Balance: 999990 TQ0(0)
â€–         - Balance: 1890 TQ1(1)
â€–       * Owner: "tz1YYrxf529d3EYzEv5TnsiTpRCzFFB87dAS"
â€–         - Operator: "tz1NkpWhHsBSZHPg2Ljz2hycRiZvcYdcyu85" -> [0, 1]
â€–         - Balance: 10 TQ0(0)
â€–         - Balance: 100 TQ1(1)
â€–       * Owner: "tz1TyFYCuKrQ7A3yB4AvpoPRLacb3J6iQB9V"
â€–         - Operator: "tz1NkpWhHsBSZHPg2Ljz2hycRiZvcYdcyu85" -> [0, 1]
â€–         - Balance: 10 TQ1(1)
â€–       * Owner: "tz1NkpWhHsBSZHPg2Ljz2hycRiZvcYdcyu85" [0 ops] [0 toks]
```

æœ€åï¼Œè®©`operator`å¯¹æ‰€æœ‰ä»£å¸è¿›è¡Œ*æ‰¹é‡è½¬ç§»æŠ¢åŠ«*:

```js
 fatoo fund-address \
         "${operator_pkh}" \
         2_000_000_000

â€– [FA2->Info]: Balance for tz1NkpWhHsBSZHPg2Ljz2hycRiZvcYdcyu85 is now
â€–   5999358655 mutez.
```

```js
 fatoo call-transfer \
         "from:${owner0_pkh} to:${operator_pkh} amount: 999990 token: 0" \
         "from:${owner0_pkh} to:${operator_pkh} amount: 1890 token: 1" \
         "from:${owner1_pkh} to:${operator_pkh} amount: 10 token: 0" \
         "from:${owner1_pkh} to:${operator_pkh} amount: 100 token: 1" \
         "from:${owner2_pkh} to:${operator_pkh} amount: 10 token: 1" \
         --source "${operator_sk}" \
         --address "$(cat kt1_mutran_contract.txt)"
â”ƒ { Pair "tz1MUP3sCWTUQRG2Hon7uhRfmuYZ4guEQntS" { Pair "tz1NkpWhHsBSZHPg2Ljz2hycRiZvcYdcyu85" (Pair 0 999990) ; Pair "tz1NkpWhHsBSZHPg2Ljz2hycRiZvcYdcyu85" (Pair 1 1890)} ; Pair "tz1YYrxf529d3EYzEv5TnsiTpRCzFFB87dAS" { Pair "tz1NkpWhHsBSZHPg2Ljz2hycRiZvcYdcyu85" (Pair 0 10) ; Pair "tz1NkpWhHsBSZHPg2Ljz2hycRiZvcYdcyu85" (Pair 1 100)} ; Pair "tz1TyFYCuKrQ7A3yB4AvpoPRLacb3J6iQB9V" { Pair "tz1NkpWhHsBSZHPg2Ljz2hycRiZvcYdcyu85" (Pair 1 10)}}
```

ç„¶åæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿç»“æœçŠ¶æ€ï¼Œå…¶ä¸­é™¤äº†æ‹¥æœ‰æ€»ä¾›åº”é‡çš„`operator`ä¹‹å¤–ï¼Œæ‰€æœ‰ä½™é¢éƒ½æ˜¯`0`:

```js
 fatoo show-storage "$(cat kt1_mutran_contract.txt)" \
         --known-address "$(cut -d, -f 3 owner0.csv)" \
         --known-address "$(cut -d, -f 3 owner1.csv)" \
         --known-address "$(cut -d, -f 3 owner2.csv)" \
         --known-address "$(cut -d, -f 3 operator.csv)"
â€– [FA2->Info]:
â€–   Contract: KT1Qmqtc6pYnivEkR1Pedt684XSH4RjmoU6w
â€–     Balance: 0 mutez
â€– Administrator: "tz1ZnxqPNMXyiZLTANYJLJ9ZTBpQ5Qu16BXe"
â€–     Status: Ready
â€–     Tokens-big-map: 26
â€–     Ledger-big-map: 24
â€–     Operators-big-map: 25
â€–     All-Tokens: 0 = TQ0.
â€–                 1 = TQ1.
â€–     Known-Owners-and-Operators:
â€–       * Owner: "tz1MUP3sCWTUQRG2Hon7uhRfmuYZ4guEQntS"
â€–         - Operator: "tz1NkpWhHsBSZHPg2Ljz2hycRiZvcYdcyu85" -> [0, 1]
â€–         - Balance: 0 TQ0(0)
â€–         - Balance: 0 TQ1(1)
â€–       * Owner: "tz1YYrxf529d3EYzEv5TnsiTpRCzFFB87dAS"
â€–         - Operator: "tz1NkpWhHsBSZHPg2Ljz2hycRiZvcYdcyu85" -> [0, 1]
â€–         - Balance: 0 TQ0(0)
â€–         - Balance: 0 TQ1(1)
â€–       * Owner: "tz1TyFYCuKrQ7A3yB4AvpoPRLacb3J6iQB9V"
â€–         - Operator: "tz1NkpWhHsBSZHPg2Ljz2hycRiZvcYdcyu85" -> [0, 1]
â€–         - Balance: 0 TQ1(1)
â€–       * Owner: "tz1NkpWhHsBSZHPg2Ljz2hycRiZvcYdcyu85" [0 ops]
â€–         - Balance: 1000000 TQ0(0)
â€–         - Balance: 2000 TQ1(1)
```

## æ£€ç´¢åˆåŒä½™é¢

æˆ‘ä»¬åœ¨ä¸Šé¢åˆ›å»ºçš„å¥‘çº¦æœ‰ä¸€ä¸ªé¢å¤–çš„å…¥å£ç‚¹ï¼Œä»¥ä¾¿èƒ½å¤Ÿè½¬ç§»å¥‘çº¦çš„ä½™é¢ï¼Œä¾‹å¦‚ï¼Œä¸‡ä¸€æœ‰äººæ„å¤–åœ°å°†Î¼êœ©è½¬ç§»åˆ°å¥‘çº¦ä¸­ã€‚

å› æ­¤ï¼Œè®©æˆ‘ä»¬æƒ³è±¡ä¸€ä¸‹ï¼Œåœ¨ä¸Šè¿°æŠ¢åŠ«ä¹‹åï¼Œ`operator`æƒ³è¦é€šè¿‡æŸ¥çœ‹åˆåŒæœ¬èº«æ¥å…¬å¼€å‘åˆåŒç®¡ç†å‘˜æ”¯ä»˜å°è´¹/è´¿èµ‚(è¿™å¯èƒ½æ˜¯è®© XTZ åŠ å…¥åˆåŒçš„ä¸€ä¸ªä»¤äººè´¹è§£çš„å€Ÿå£â€¦â€¦)ã€‚æˆ‘ä»¬ç”¨ä¸€ä¸ªç©ºçš„è½¬ç§»é¡¹ç›®åˆ—è¡¨è°ƒç”¨`transfer`å…¥å£ç‚¹ï¼Œä½†æ˜¯ç”¨å‡ ä¸ª XTZ ä½œä¸ºæ•°é‡:

```js
tezos-client import secret key operator \
"${operator_sk}" --force

tezos-client transfer 1_000 from operator \
to "$(cat kt1_mutran_contract.txt)" \
--entrypoint transfer \
--arg '{}' --burn-cap 1
â”ƒ 
â”ƒ ...
â”ƒ 
â”ƒ       Balance updates:
â”ƒ         tz1NkpWhHsBSZHPg2Ljz2hycRiZvcYdcyu85 ... -êœ©1000
â”ƒ         KT1Qmqtc6pYnivEkR1Pedt684XSH4RjmoU6w ... +êœ©1000
â”ƒ The operation has only been included 0 blocks ago.
â”ƒ We recommend to wait more.
â”ƒ Use command
â”ƒ   tezos-client wait for op3KWkf8zB431zBCkK5KYxHKRResGrri95vcQmxFyiJnUtg2S8Z to be included --confirmations 30 --branch BMTLWbbEZGgzNyqtvfdFA4mrhAXAheGUUtmCrTVvBYpP9oZinP5
â”ƒ and/or an external block explorer.
```

æˆ‘ä»¬çœ‹åˆ°`fatoo`æ˜¾ç¤ºäº†åˆåŒç°åœ¨çš„éé›¶ä½™é¢:

```js
 fatoo show-storage "$(cat kt1_mutran_contract.txt)" 
```

äº§å‡º:

```js
â€– [FA2->Info]:
â€–   Contract: KT1Qmqtc6pYnivEkR1Pedt684XSH4RjmoU6w
â€–     Balance: 1000000000 mutez
â€–     Administrator: "tz1ZnxqPNMXyiZLTANYJLJ9ZTBpQ5Qu16BXe"
â€–     Status: Ready
â€–     Tokens-big-map: 26
â€–     Ledger-big-map: 24
â€–     Operators-big-map: 25
â€–     All-Tokens: 0 = TQ0.
â€–                 1 = TQ1.
â€–     Known-Owners-and-Operators: None 
```

è®©æˆ‘ä»¬ä¸ºä»–ä»¬è‡ªå·±æ‰¾å›é‚£äº›é’±ï¼›å…¥å£ç‚¹è¢«ç§°ä¸º`mutez_transfer`å¹¶æ¥å—ä¸€å¯¹`mutez Ã— address`:

```js
tezos-client import secret key admin \
"${admin_sk}" --force

tezos-client transfer 0 from admin \
to "$(cat kt1_mutran_contract.txt)" \
--entrypoint mutez_transfer \
--arg "Pair 1000000000 \"${admin_pkh}\"" \
--burn-cap 1
```

äº§å‡º:

```js
â”ƒ 
â”ƒ ...
â”ƒ 
â”ƒ         Balance updates:
â”ƒ           KT1Qmqtc6pYnivEkR1Pedt684XSH4RjmoU6w ... -êœ©1000
â”ƒ           tz1ZnxqPNMXyiZLTANYJLJ9ZTBpQ5Qu16BXe ... +êœ©1000
â”ƒ The operation has only been included 0 blocks ago.
â”ƒ We recommend to wait more.
â”ƒ Use command
â”ƒ   tezos-client wait for oooyQH1YZnngpPaf8KDuVStqQEnq7Y2XD1LRoQTnnWjJ4zZkaeg to be included --confirmations 30 --branch BLu5hPEMU3KBawfcRcDgsbMAoBrXGKT2r555seMpaiN7yhiePPX
â”ƒ and/or an external block explorer. 
```

æˆ‘ä»¬çœ‹åˆ° KT1 å¤±å»äº†å¹³è¡¡:

```js
 fatoo show-storage "$(cat kt1_mutran_contract.txt)"
```

äº§å‡º:

```js
â€– [FA2->Info]:
â€–   Contract: KT1Qmqtc6pYnivEkR1Pedt684XSH4RjmoU6w
â€–     Balance: 0 mutez
â€–     Administrator: "tz1ZnxqPNMXyiZLTANYJLJ9ZTBpQ5Qu16BXe"
â€–     Status: Ready
â€–     Tokens-big-map: 26
â€–     Ledger-big-map: 24
â€–     Operators-big-map: 25
â€–     All-Tokens: 0 = TQ0.
â€–                 1 = TQ1.
â€–     Known-Owners-and-Operators: None 
```

â€¦çœ‹åˆ°`admin`æ›´å¯Œæœ‰:

```js
 tezos-client get balance for "${admin_pkh}"
```

äº§å‡º:

```js
â”ƒ 5057.816076 êœ©
â€– Warning:  the --addr --port --tls options are now deprecated; use --endpoint instead 
```

# è¿›ä¸€æ­¥é˜…è¯»

å¸Œæœ›è¿™ç¯‡æ•™ç¨‹ä»ç”¨æˆ·çš„è§’åº¦ä»‹ç»äº† FA2 çš„ FA2-SmartPy å®ç°ã€‚è¯·ä½¿ç”¨å­˜å‚¨åº“çš„[é—®é¢˜](https://gitlab.com/smondet/fa2-smartpy/-/issues)æä¾›ä»»ä½•åé¦ˆã€‚å»¶ä¼¸é˜…è¯»åŒ…æ‹¬:

*   TZIP-12 [è§„èŒƒ](https://gitlab.com/tzip/tzip/-/blob/master/proposals/tzip-12/tzip-12.md)æœ¬èº«ï¼›
*   [`multi_asset.py`](https://gitlab.com/smondet/fa2-smartpy/-/blob/master/multi_asset.py) çš„å®ç°æºä»£ç ï¼›
*   Agora(åšå®¢)[å‘å¸ƒ](https://forum.tezosagora.org/t/implementing-fa2-an-update-on-the-fa2-specification-and-smartpy-implementation-release/1870)ä»‹ç»é¡¹ç›®ï¼›
*   <g-emoji class="g-emoji" alias="construction" fallback-src="https://github.githubassets.cimg/icons/emoji/unicode/1f6a7.png">ğŸš§</g-emoji>è¿˜æœ‰æ›´å¤šâ€¦â€¦<g-emoji class="g-emoji" alias="construction_worker" fallback-src="https://github.githubassets.cimg/icons/emoji/unicode/1f477.png">ğŸ‘·</g-emoji>

å¦‚æœæ‚¨åœ¨é˜…è¯»æœ¬æ•™ç¨‹æ—¶æœ‰ä»»ä½•å›°éš¾ï¼Œæˆ–è€…åªæ˜¯æƒ³ä¸æˆ‘ä»¬è®¨è®º Tezos æŠ€æœ¯ï¼Œæ‚¨å¯ä»¥ä»Šå¤©å°±[åŠ å…¥æˆ‘ä»¬çš„ç¤¾åŒº](https://discord.gg/PtkKz5)ï¼